"use strict";(self.webpackChunkfrontend=self.webpackChunkfrontend||[]).push([[599],{1397:(dt,E,r)=>{r.d(E,{h:()=>Y});var m=r(205),d=r(2340),t=r(5304),u=r(7716),f=r(1841),R=r(4471);let Y=(()=>{class C{constructor(_,B){this.http=_,this.loadingService=B}getGames(){return this.loadingService.startLoading(this.http.get(d.N.backendUrl+"/api/games").pipe((0,t.K)(this.handleError)))}getGameById(_){return this.loadingService.startLoading(this.http.get(`${d.N.backendUrl}/api/game/${_}`).pipe((0,t.K)(this.handleError)))}handleError(_){return d.N.production||console.error(_),(0,m._)(_)}}return C.\u0275fac=function(_){return new(_||C)(u.LFG(f.eN),u.LFG(R.b))},C.\u0275prov=u.Yz7({token:C,factory:C.\u0275fac,providedIn:"root"}),C})()},4599:(dt,E,r)=>{r.r(E),r.d(E,{TeamModule:()=>he});var m=r(8583),d=r(3679),t=r(7716),u=r(2340),f=r(8002),R=r(5304),Y=r(5917),C=r(205),N=r(1841),_=r(9075),B=r(4471);let L=(()=>{class n{constructor(e,i,o){this.http=e,this.sanitizer=i,this.loadingService=o}createTeam(e,i){return this.http.post(`${u.N.backendUrl}/api/team`,{name:e,cipher_game_id:i}).pipe((0,f.U)(()=>!0),(0,R.K)(o=>(u.N.production||console.error(o),(0,Y.of)(!1))))}getTeamById(e){const i=this.http.get(`${u.N.backendUrl}/api/team/${e}`).pipe((0,f.U)(o=>Object.assign(Object.assign({},o),{QRCode:this.getQRCodeLink(o.invite_code),inviteLink:`${u.N.frontendUrl}/team/join?code=${o.invite_code}`})));return this.loadingService.startLoading(i)}getQRCodeLink(e){return this.sanitizer.bypassSecurityTrustUrl(`${u.N.backendUrl}/api/generateTeamJoinQR/${e}`)}joinTeam(e){return this.http.post(`${u.N.backendUrl}/api/team/join`,{invite_code:e}).pipe((0,R.K)(i=>(u.N.production||console.error(i),(0,C._)(i))))}}return n.\u0275fac=function(e){return new(e||n)(t.LFG(N.eN),t.LFG(_.H7),t.LFG(B.b))},n.\u0275prov=t.Yz7({token:n,factory:n.\u0275fac,providedIn:"root"}),n})();var v=r(3423),w=r(8295),U=r(9983),S=r(1095);function pt(n,s){if(1&n&&(t.TgZ(0,"mat-error"),t._uU(1),t.qZA()),2&n){const e=t.oxw();t.xp6(1),t.hij(" ",e.teamNameErrorMessage()," ")}}let ht=(()=>{class n{constructor(e,i,o){this.teamService=e,this.router=i,this.route=o,this.teamName=new d.NI("",[d.kI.required,d.kI.minLength(4),d.kI.maxLength(80)]),this.createTeamForm=new d.cw({name:this.teamName})}ngOnInit(){}createTeam(){const e=this.route.snapshot.params.id;this.teamService.createTeam(this.teamName.value,e).subscribe(i=>{i&&this.router.navigate([`/team/${e}`]).then()})}teamNameErrorMessage(){return this.teamName.hasError("required")?"Po\u017eadov\xe1no":this.teamName.hasError("minlength")?"N\xe1zev teamu mus\xed m\xedt alespo\u0148 4 znaky":this.teamName.hasError("maxlength")?"N\xe1zev teamu m\u016f\u017ee m\xedt nejv\xedce 80 znak\u016f":void 0}}return n.\u0275fac=function(e){return new(e||n)(t.Y36(L),t.Y36(v.F0),t.Y36(v.gz))},n.\u0275cmp=t.Xpm({type:n,selectors:[["app-create-team"]],decls:14,vars:3,consts:[[3,"formGroup","ngSubmit"],[1,"grow-container","label"],[1,"mat-display-3"],["appearance","outline",1,"form-item"],["matInput","","formControlName","name"],[4,"ngIf"],[1,"error"],[1,"buttons"],["mat-raised-button","","color","primary","type","submit",3,"disabled"],[1,"grow-container"]],template:function(e,i){1&e&&(t.TgZ(0,"form",0),t.NdJ("ngSubmit",function(){return i.createTeam()}),t.TgZ(1,"div",1),t.TgZ(2,"h1",2),t._uU(3,"Zalo\u017eit Team"),t.qZA(),t.qZA(),t.TgZ(4,"mat-form-field",3),t.TgZ(5,"mat-label"),t._uU(6," N\xe1zev teamu "),t.qZA(),t._UZ(7,"input",4),t.YNc(8,pt,2,1,"mat-error",5),t.qZA(),t._UZ(9,"div",6),t.TgZ(10,"div",7),t.TgZ(11,"button",8),t._uU(12," Zalo\u017eit "),t.qZA(),t.qZA(),t._UZ(13,"div",9),t.qZA()),2&e&&(t.Q6J("formGroup",i.createTeamForm),t.xp6(8),t.Q6J("ngIf",i.teamName.invalid),t.xp6(3),t.Q6J("disabled",!i.createTeamForm.valid))},directives:[d._Y,d.JL,d.sg,w.KE,w.hX,U.Nt,d.Fj,d.JJ,d.u,m.O5,S.lW,w.TO],styles:["","form[_ngcontent-%COMP%]{display:flex;height:100%;flex-direction:column;align-items:center;font-size:1.1rem}.form-item[_ngcontent-%COMP%]{width:calc(100% - 256px)}mat-form-field[_ngcontent-%COMP%]{font-size:18px}button[_ngcontent-%COMP%]{width:150px;height:48px;margin:0 8px;font-size:1.1rem}.grow-container[_ngcontent-%COMP%]{display:flex;width:100%;flex:1 1;align-items:center;justify-content:center;box-sizing:border-box}.grow-container[_ngcontent-%COMP%]   h1[_ngcontent-%COMP%]{margin:64px 0 0}@media screen and (max-width: 560px){.form-item[_ngcontent-%COMP%]{width:calc(100% - 64px)}.grow-container[_ngcontent-%COMP%]{box-sizing:border-box}.grow-container[_ngcontent-%COMP%]:last-child{min-height:48px;flex-grow:0}}.error[_ngcontent-%COMP%]{padding:12px 0;margin-bottom:16px;text-align:center;border-radius:5px}.buttons[_ngcontent-%COMP%]{display:flex}.label[_ngcontent-%COMP%]{text-align:center;flex:2 1}"]}),n})();var mt=r(323),X=r(9773),j=r(6888),ut=r(1397),ft=r(2238),x=r(625),T=r(7636),O=r(2458),b=r(9765),z=r(5257),y=r(6782),p=r(7238),k=r(9238),G=r(9490),_t=r(739),gt=r(8071),vt=r(7574),bt=r(3653),yt=r(4395),Ct=r(9761),A=r(521);const $=new Set;let I,V=(()=>{class n{constructor(e){this._platform=e,this._matchMedia=this._platform.isBrowser&&window.matchMedia?window.matchMedia.bind(window):Tt}matchMedia(e){return this._platform.WEBKIT&&function(n){if(!$.has(n))try{I||(I=document.createElement("style"),I.setAttribute("type","text/css"),document.head.appendChild(I)),I.sheet&&(I.sheet.insertRule(`@media ${n} {.fx-query-test{ }}`,0),$.add(n))}catch(s){console.error(s)}}(e),this._matchMedia(e)}}return n.\u0275fac=function(e){return new(e||n)(t.LFG(A.t4))},n.\u0275prov=t.Yz7({factory:function(){return new n(t.LFG(A.t4))},token:n,providedIn:"root"}),n})();function Tt(n){return{matches:"all"===n||""===n,media:n,addListener:()=>{},removeListener:()=>{}}}let Q=(()=>{class n{constructor(e,i){this._mediaMatcher=e,this._zone=i,this._queries=new Map,this._destroySubject=new b.xQ}ngOnDestroy(){this._destroySubject.next(),this._destroySubject.complete()}isMatched(e){return W((0,G.Eq)(e)).some(o=>this._registerQuery(o).mql.matches)}observe(e){const o=W((0,G.Eq)(e)).map(c=>this._registerQuery(c).observable);let a=(0,_t.aj)(o);return a=(0,gt.z)(a.pipe((0,z.q)(1)),a.pipe((0,bt.T)(1),(0,yt.b)(0))),a.pipe((0,f.U)(c=>{const l={matches:!1,breakpoints:{}};return c.forEach(({matches:h,query:g})=>{l.matches=l.matches||h,l.breakpoints[g]=h}),l}))}_registerQuery(e){if(this._queries.has(e))return this._queries.get(e);const i=this._mediaMatcher.matchMedia(e),a={observable:new vt.y(c=>{const l=h=>this._zone.run(()=>c.next(h));return i.addListener(l),()=>{i.removeListener(l)}}).pipe((0,Ct.O)(i),(0,f.U)(({matches:c})=>({query:e,matches:c})),(0,y.R)(this._destroySubject)),mql:i};return this._queries.set(e,a),a}}return n.\u0275fac=function(e){return new(e||n)(t.LFG(V),t.LFG(t.R0b))},n.\u0275prov=t.Yz7({factory:function(){return new n(t.LFG(V),t.LFG(t.R0b))},token:n,providedIn:"root"}),n})();function W(n){return n.map(s=>s.split(",")).reduce((s,e)=>s.concat(e)).map(s=>s.trim())}function Mt(n,s){if(1&n){const e=t.EpF();t.TgZ(0,"div",1),t.TgZ(1,"button",2),t.NdJ("click",function(){return t.CHM(e),t.oxw().action()}),t._uU(2),t.qZA(),t.qZA()}if(2&n){const e=t.oxw();t.xp6(2),t.Oqu(e.data.action)}}function wt(n,s){}const et=new t.OlP("MatSnackBarData");class D{constructor(){this.politeness="assertive",this.announcementMessage="",this.duration=0,this.data=null,this.horizontalPosition="center",this.verticalPosition="bottom"}}const Ot=Math.pow(2,31)-1;class J{constructor(s,e){this._overlayRef=e,this._afterDismissed=new b.xQ,this._afterOpened=new b.xQ,this._onAction=new b.xQ,this._dismissedByAction=!1,this.containerInstance=s,this.onAction().subscribe(()=>this.dismiss()),s._onExit.subscribe(()=>this._finishDismiss())}dismiss(){this._afterDismissed.closed||this.containerInstance.exit(),clearTimeout(this._durationTimeoutId)}dismissWithAction(){this._onAction.closed||(this._dismissedByAction=!0,this._onAction.next(),this._onAction.complete()),clearTimeout(this._durationTimeoutId)}closeWithAction(){this.dismissWithAction()}_dismissAfter(s){this._durationTimeoutId=setTimeout(()=>this.dismiss(),Math.min(s,Ot))}_open(){this._afterOpened.closed||(this._afterOpened.next(),this._afterOpened.complete())}_finishDismiss(){this._overlayRef.dispose(),this._onAction.closed||this._onAction.complete(),this._afterDismissed.next({dismissedByAction:this._dismissedByAction}),this._afterDismissed.complete(),this._dismissedByAction=!1}afterDismissed(){return this._afterDismissed}afterOpened(){return this.containerInstance._onEnter}onAction(){return this._onAction}}let kt=(()=>{class n{constructor(e,i){this.snackBarRef=e,this.data=i}action(){this.snackBarRef.dismissWithAction()}get hasAction(){return!!this.data.action}}return n.\u0275fac=function(e){return new(e||n)(t.Y36(J),t.Y36(et))},n.\u0275cmp=t.Xpm({type:n,selectors:[["simple-snack-bar"]],hostAttrs:[1,"mat-simple-snackbar"],decls:3,vars:2,consts:[["class","mat-simple-snackbar-action",4,"ngIf"],[1,"mat-simple-snackbar-action"],["mat-button","",3,"click"]],template:function(e,i){1&e&&(t.TgZ(0,"span"),t._uU(1),t.qZA(),t.YNc(2,Mt,3,1,"div",0)),2&e&&(t.xp6(1),t.Oqu(i.data.message),t.xp6(1),t.Q6J("ngIf",i.hasAction))},directives:[m.O5,S.lW],styles:[".mat-simple-snackbar{display:flex;justify-content:space-between;align-items:center;line-height:20px;opacity:1}.mat-simple-snackbar-action{flex-shrink:0;margin:-8px -8px -8px 8px}.mat-simple-snackbar-action button{max-height:36px;min-width:0}[dir=rtl] .mat-simple-snackbar-action{margin-left:-8px;margin-right:8px}\n"],encapsulation:2,changeDetection:0}),n})();const St={snackBarState:(0,p.X$)("state",[(0,p.SB)("void, hidden",(0,p.oB)({transform:"scale(0.8)",opacity:0})),(0,p.SB)("visible",(0,p.oB)({transform:"scale(1)",opacity:1})),(0,p.eR)("* => visible",(0,p.jt)("150ms cubic-bezier(0, 0, 0.2, 1)")),(0,p.eR)("* => void, * => hidden",(0,p.jt)("75ms cubic-bezier(0.4, 0.0, 1, 1)",(0,p.oB)({opacity:0})))])};let At=(()=>{class n extends T.en{constructor(e,i,o,a,c){super(),this._ngZone=e,this._elementRef=i,this._changeDetectorRef=o,this._platform=a,this.snackBarConfig=c,this._announceDelay=150,this._destroyed=!1,this._onAnnounce=new b.xQ,this._onExit=new b.xQ,this._onEnter=new b.xQ,this._animationState="void",this.attachDomPortal=l=>(this._assertNotAttached(),this._applySnackBarClasses(),this._portalOutlet.attachDomPortal(l)),this._live="assertive"!==c.politeness||c.announcementMessage?"off"===c.politeness?"off":"polite":"assertive",this._platform.FIREFOX&&("polite"===this._live&&(this._role="status"),"assertive"===this._live&&(this._role="alert"))}attachComponentPortal(e){return this._assertNotAttached(),this._applySnackBarClasses(),this._portalOutlet.attachComponentPortal(e)}attachTemplatePortal(e){return this._assertNotAttached(),this._applySnackBarClasses(),this._portalOutlet.attachTemplatePortal(e)}onAnimationEnd(e){const{fromState:i,toState:o}=e;if(("void"===o&&"void"!==i||"hidden"===o)&&this._completeExit(),"visible"===o){const a=this._onEnter;this._ngZone.run(()=>{a.next(),a.complete()})}}enter(){this._destroyed||(this._animationState="visible",this._changeDetectorRef.detectChanges(),this._screenReaderAnnounce())}exit(){return this._animationState="hidden",this._elementRef.nativeElement.setAttribute("mat-exit",""),clearTimeout(this._announceTimeoutId),this._onExit}ngOnDestroy(){this._destroyed=!0,this._completeExit()}_completeExit(){this._ngZone.onMicrotaskEmpty.pipe((0,z.q)(1)).subscribe(()=>{this._onExit.next(),this._onExit.complete()})}_applySnackBarClasses(){const e=this._elementRef.nativeElement,i=this.snackBarConfig.panelClass;i&&(Array.isArray(i)?i.forEach(o=>e.classList.add(o)):e.classList.add(i)),"center"===this.snackBarConfig.horizontalPosition&&e.classList.add("mat-snack-bar-center"),"top"===this.snackBarConfig.verticalPosition&&e.classList.add("mat-snack-bar-top")}_assertNotAttached(){this._portalOutlet.hasAttached()}_screenReaderAnnounce(){this._announceTimeoutId||this._ngZone.runOutsideAngular(()=>{this._announceTimeoutId=setTimeout(()=>{const e=this._elementRef.nativeElement.querySelector("[aria-hidden]"),i=this._elementRef.nativeElement.querySelector("[aria-live]");if(e&&i){let o=null;this._platform.isBrowser&&document.activeElement instanceof HTMLElement&&e.contains(document.activeElement)&&(o=document.activeElement),e.removeAttribute("aria-hidden"),i.appendChild(e),null==o||o.focus(),this._onAnnounce.next(),this._onAnnounce.complete()}},this._announceDelay)})}}return n.\u0275fac=function(e){return new(e||n)(t.Y36(t.R0b),t.Y36(t.SBq),t.Y36(t.sBO),t.Y36(A.t4),t.Y36(D))},n.\u0275cmp=t.Xpm({type:n,selectors:[["snack-bar-container"]],viewQuery:function(e,i){if(1&e&&t.Gf(T.Pl,7),2&e){let o;t.iGM(o=t.CRH())&&(i._portalOutlet=o.first)}},hostAttrs:[1,"mat-snack-bar-container"],hostVars:1,hostBindings:function(e,i){1&e&&t.WFA("@state.done",function(a){return i.onAnimationEnd(a)}),2&e&&t.d8E("@state",i._animationState)},features:[t.qOj],decls:3,vars:2,consts:[["aria-hidden","true"],["cdkPortalOutlet",""]],template:function(e,i){1&e&&(t.TgZ(0,"div",0),t.YNc(1,wt,0,0,"ng-template",1),t.qZA(),t._UZ(2,"div")),2&e&&(t.xp6(2),t.uIk("aria-live",i._live)("role",i._role))},directives:[T.Pl],styles:[".mat-snack-bar-container{border-radius:4px;box-sizing:border-box;display:block;margin:24px;max-width:33vw;min-width:344px;padding:14px 16px;min-height:48px;transform-origin:center}.cdk-high-contrast-active .mat-snack-bar-container{border:solid 1px}.mat-snack-bar-handset{width:100%}.mat-snack-bar-handset .mat-snack-bar-container{margin:8px;max-width:100%;min-width:0;width:100%}\n"],encapsulation:2,data:{animation:[St.snackBarState]}}),n})(),it=(()=>{class n{}return n.\u0275fac=function(e){return new(e||n)},n.\u0275mod=t.oAB({type:n}),n.\u0275inj=t.cJS({imports:[[x.U8,T.eL,m.ez,S.ot,O.BQ],O.BQ]}),n})();const nt=new t.OlP("mat-snack-bar-default-options",{providedIn:"root",factory:function(){return new D}});let Pt=(()=>{class n{constructor(e,i,o,a,c,l){this._overlay=e,this._live=i,this._injector=o,this._breakpointObserver=a,this._parentSnackBar=c,this._defaultConfig=l,this._snackBarRefAtThisLevel=null,this.simpleSnackBarComponent=kt,this.snackBarContainerComponent=At,this.handsetCssClass="mat-snack-bar-handset"}get _openedSnackBarRef(){const e=this._parentSnackBar;return e?e._openedSnackBarRef:this._snackBarRefAtThisLevel}set _openedSnackBarRef(e){this._parentSnackBar?this._parentSnackBar._openedSnackBarRef=e:this._snackBarRefAtThisLevel=e}openFromComponent(e,i){return this._attach(e,i)}openFromTemplate(e,i){return this._attach(e,i)}open(e,i="",o){const a=Object.assign(Object.assign({},this._defaultConfig),o);return a.data={message:e,action:i},a.announcementMessage===e&&(a.announcementMessage=void 0),this.openFromComponent(this.simpleSnackBarComponent,a)}dismiss(){this._openedSnackBarRef&&this._openedSnackBarRef.dismiss()}ngOnDestroy(){this._snackBarRefAtThisLevel&&this._snackBarRefAtThisLevel.dismiss()}_attachSnackBarContainer(e,i){const a=t.zs3.create({parent:i&&i.viewContainerRef&&i.viewContainerRef.injector||this._injector,providers:[{provide:D,useValue:i}]}),c=new T.C5(this.snackBarContainerComponent,i.viewContainerRef,a),l=e.attach(c);return l.instance.snackBarConfig=i,l.instance}_attach(e,i){const o=Object.assign(Object.assign(Object.assign({},new D),this._defaultConfig),i),a=this._createOverlay(o),c=this._attachSnackBarContainer(a,o),l=new J(c,a);if(e instanceof t.Rgc){const h=new T.UE(e,null,{$implicit:o.data,snackBarRef:l});l.instance=c.attachTemplatePortal(h)}else{const h=this._createInjector(o,l),g=new T.C5(e,void 0,h),P=c.attachComponentPortal(g);l.instance=P.instance}return this._breakpointObserver.observe("(max-width: 599.98px) and (orientation: portrait)").pipe((0,y.R)(a.detachments())).subscribe(h=>{const g=a.overlayElement.classList;h.matches?g.add(this.handsetCssClass):g.remove(this.handsetCssClass)}),o.announcementMessage&&c._onAnnounce.subscribe(()=>{this._live.announce(o.announcementMessage,o.politeness)}),this._animateSnackBar(l,o),this._openedSnackBarRef=l,this._openedSnackBarRef}_animateSnackBar(e,i){e.afterDismissed().subscribe(()=>{this._openedSnackBarRef==e&&(this._openedSnackBarRef=null),i.announcementMessage&&this._live.clear()}),this._openedSnackBarRef?(this._openedSnackBarRef.afterDismissed().subscribe(()=>{e.containerInstance.enter()}),this._openedSnackBarRef.dismiss()):e.containerInstance.enter(),i.duration&&i.duration>0&&e.afterOpened().subscribe(()=>e._dismissAfter(i.duration))}_createOverlay(e){const i=new x.X_;i.direction=e.direction;let o=this._overlay.position().global();const a="rtl"===e.direction,c="left"===e.horizontalPosition||"start"===e.horizontalPosition&&!a||"end"===e.horizontalPosition&&a,l=!c&&"center"!==e.horizontalPosition;return c?o.left("0"):l?o.right("0"):o.centerHorizontally(),"top"===e.verticalPosition?o.top("0"):o.bottom("0"),i.positionStrategy=o,this._overlay.create(i)}_createInjector(e,i){return t.zs3.create({parent:e&&e.viewContainerRef&&e.viewContainerRef.injector||this._injector,providers:[{provide:J,useValue:i},{provide:et,useValue:e.data}]})}}return n.\u0275fac=function(e){return new(e||n)(t.LFG(x.aV),t.LFG(k.Kd),t.LFG(t.zs3),t.LFG(Q),t.LFG(n,12),t.LFG(nt))},n.\u0275prov=t.Yz7({factory:function(){return new n(t.LFG(x.aV),t.LFG(k.Kd),t.LFG(t.gxx),t.LFG(Q),t.LFG(n,12),t.LFG(nt))},token:n,providedIn:it}),n})();var H=r(6627),q=r(9243),ot=r(6461),st=r(946);const Et={tooltipState:(0,p.X$)("state",[(0,p.SB)("initial, void, hidden",(0,p.oB)({opacity:0,transform:"scale(0)"})),(0,p.SB)("visible",(0,p.oB)({transform:"scale(1)"})),(0,p.eR)("* => visible",(0,p.jt)("200ms cubic-bezier(0, 0, 0.2, 1)",(0,p.F4)([(0,p.oB)({opacity:0,transform:"scale(0)",offset:0}),(0,p.oB)({opacity:.5,transform:"scale(0.99)",offset:.5}),(0,p.oB)({opacity:1,transform:"scale(1)",offset:1})]))),(0,p.eR)("* => hidden",(0,p.jt)("100ms cubic-bezier(0, 0, 0.2, 1)",(0,p.oB)({opacity:0})))])},at="tooltip-panel",rt=(0,A.i$)({passive:!0}),ct=new t.OlP("mat-tooltip-scroll-strategy"),Dt={provide:ct,deps:[x.aV],useFactory:function(n){return()=>n.scrollStrategies.reposition({scrollThrottle:20})}},Zt=new t.OlP("mat-tooltip-default-options",{providedIn:"root",factory:function(){return{showDelay:0,hideDelay:0,touchendHideDelay:1500}}});let Yt=(()=>{class n{constructor(e,i,o,a,c,l,h,g,P,Z,M,K){this._overlay=e,this._elementRef=i,this._scrollDispatcher=o,this._viewContainerRef=a,this._ngZone=c,this._platform=l,this._ariaDescriber=h,this._focusMonitor=g,this._dir=Z,this._defaultOptions=M,this._position="below",this._disabled=!1,this._viewInitialized=!1,this._pointerExitEventsInitialized=!1,this._viewportMargin=8,this._cssClassPrefix="mat",this.showDelay=this._defaultOptions.showDelay,this.hideDelay=this._defaultOptions.hideDelay,this.touchGestures="auto",this._message="",this._passiveListeners=[],this._destroyed=new b.xQ,this._handleKeydown=F=>{this._isTooltipVisible()&&F.keyCode===ot.hY&&!(0,ot.Vb)(F)&&(F.preventDefault(),F.stopPropagation(),this._ngZone.run(()=>this.hide(0)))},this._scrollStrategy=P,this._document=K,M&&(M.position&&(this.position=M.position),M.touchGestures&&(this.touchGestures=M.touchGestures)),Z.change.pipe((0,y.R)(this._destroyed)).subscribe(()=>{this._overlayRef&&this._updatePosition(this._overlayRef)}),c.runOutsideAngular(()=>{i.nativeElement.addEventListener("keydown",this._handleKeydown)})}get position(){return this._position}set position(e){var i;e!==this._position&&(this._position=e,this._overlayRef&&(this._updatePosition(this._overlayRef),null===(i=this._tooltipInstance)||void 0===i||i.show(0),this._overlayRef.updatePosition()))}get disabled(){return this._disabled}set disabled(e){this._disabled=(0,G.Ig)(e),this._disabled?this.hide(0):this._setupPointerEnterEventsIfNeeded()}get message(){return this._message}set message(e){this._ariaDescriber.removeDescription(this._elementRef.nativeElement,this._message,"tooltip"),this._message=null!=e?String(e).trim():"",!this._message&&this._isTooltipVisible()?this.hide(0):(this._setupPointerEnterEventsIfNeeded(),this._updateTooltipMessage(),this._ngZone.runOutsideAngular(()=>{Promise.resolve().then(()=>{this._ariaDescriber.describe(this._elementRef.nativeElement,this.message,"tooltip")})}))}get tooltipClass(){return this._tooltipClass}set tooltipClass(e){this._tooltipClass=e,this._tooltipInstance&&this._setTooltipClass(this._tooltipClass)}ngAfterViewInit(){this._viewInitialized=!0,this._setupPointerEnterEventsIfNeeded(),this._focusMonitor.monitor(this._elementRef).pipe((0,y.R)(this._destroyed)).subscribe(e=>{e?"keyboard"===e&&this._ngZone.run(()=>this.show()):this._ngZone.run(()=>this.hide(0))})}ngOnDestroy(){const e=this._elementRef.nativeElement;clearTimeout(this._touchstartTimeout),this._overlayRef&&(this._overlayRef.dispose(),this._tooltipInstance=null),e.removeEventListener("keydown",this._handleKeydown),this._passiveListeners.forEach(([i,o])=>{e.removeEventListener(i,o,rt)}),this._passiveListeners.length=0,this._destroyed.next(),this._destroyed.complete(),this._ariaDescriber.removeDescription(e,this.message,"tooltip"),this._focusMonitor.stopMonitoring(e)}show(e=this.showDelay){if(this.disabled||!this.message||this._isTooltipVisible()&&!this._tooltipInstance._showTimeoutId&&!this._tooltipInstance._hideTimeoutId)return;const i=this._createOverlay();this._detach(),this._portal=this._portal||new T.C5(this._tooltipComponent,this._viewContainerRef),this._tooltipInstance=i.attach(this._portal).instance,this._tooltipInstance.afterHidden().pipe((0,y.R)(this._destroyed)).subscribe(()=>this._detach()),this._setTooltipClass(this._tooltipClass),this._updateTooltipMessage(),this._tooltipInstance.show(e)}hide(e=this.hideDelay){this._tooltipInstance&&this._tooltipInstance.hide(e)}toggle(){this._isTooltipVisible()?this.hide():this.show()}_isTooltipVisible(){return!!this._tooltipInstance&&this._tooltipInstance.isVisible()}_createOverlay(){if(this._overlayRef)return this._overlayRef;const e=this._scrollDispatcher.getAncestorScrollContainers(this._elementRef),i=this._overlay.position().flexibleConnectedTo(this._elementRef).withTransformOriginOn(`.${this._cssClassPrefix}-tooltip`).withFlexibleDimensions(!1).withViewportMargin(this._viewportMargin).withScrollableContainers(e);return i.positionChanges.pipe((0,y.R)(this._destroyed)).subscribe(o=>{this._updateCurrentPositionClass(o.connectionPair),this._tooltipInstance&&o.scrollableViewProperties.isOverlayClipped&&this._tooltipInstance.isVisible()&&this._ngZone.run(()=>this.hide(0))}),this._overlayRef=this._overlay.create({direction:this._dir,positionStrategy:i,panelClass:`${this._cssClassPrefix}-${at}`,scrollStrategy:this._scrollStrategy()}),this._updatePosition(this._overlayRef),this._overlayRef.detachments().pipe((0,y.R)(this._destroyed)).subscribe(()=>this._detach()),this._overlayRef.outsidePointerEvents().pipe((0,y.R)(this._destroyed)).subscribe(()=>{var o;return null===(o=this._tooltipInstance)||void 0===o?void 0:o._handleBodyInteraction()}),this._overlayRef}_detach(){this._overlayRef&&this._overlayRef.hasAttached()&&this._overlayRef.detach(),this._tooltipInstance=null}_updatePosition(e){const i=e.getConfig().positionStrategy,o=this._getOrigin(),a=this._getOverlayPosition();i.withPositions([this._addOffset(Object.assign(Object.assign({},o.main),a.main)),this._addOffset(Object.assign(Object.assign({},o.fallback),a.fallback))])}_addOffset(e){return e}_getOrigin(){const e=!this._dir||"ltr"==this._dir.value,i=this.position;let o;"above"==i||"below"==i?o={originX:"center",originY:"above"==i?"top":"bottom"}:"before"==i||"left"==i&&e||"right"==i&&!e?o={originX:"start",originY:"center"}:("after"==i||"right"==i&&e||"left"==i&&!e)&&(o={originX:"end",originY:"center"});const{x:a,y:c}=this._invertPosition(o.originX,o.originY);return{main:o,fallback:{originX:a,originY:c}}}_getOverlayPosition(){const e=!this._dir||"ltr"==this._dir.value,i=this.position;let o;"above"==i?o={overlayX:"center",overlayY:"bottom"}:"below"==i?o={overlayX:"center",overlayY:"top"}:"before"==i||"left"==i&&e||"right"==i&&!e?o={overlayX:"end",overlayY:"center"}:("after"==i||"right"==i&&e||"left"==i&&!e)&&(o={overlayX:"start",overlayY:"center"});const{x:a,y:c}=this._invertPosition(o.overlayX,o.overlayY);return{main:o,fallback:{overlayX:a,overlayY:c}}}_updateTooltipMessage(){this._tooltipInstance&&(this._tooltipInstance.message=this.message,this._tooltipInstance._markForCheck(),this._ngZone.onMicrotaskEmpty.pipe((0,z.q)(1),(0,y.R)(this._destroyed)).subscribe(()=>{this._tooltipInstance&&this._overlayRef.updatePosition()}))}_setTooltipClass(e){this._tooltipInstance&&(this._tooltipInstance.tooltipClass=e,this._tooltipInstance._markForCheck())}_invertPosition(e,i){return"above"===this.position||"below"===this.position?"top"===i?i="bottom":"bottom"===i&&(i="top"):"end"===e?e="start":"start"===e&&(e="end"),{x:e,y:i}}_updateCurrentPositionClass(e){const{overlayY:i,originX:o,originY:a}=e;let c;if(c="center"===i?this._dir&&"rtl"===this._dir.value?"end"===o?"left":"right":"start"===o?"left":"right":"bottom"===i&&"top"===a?"above":"below",c!==this._currentPosition){const l=this._overlayRef;if(l){const h=`${this._cssClassPrefix}-${at}-`;l.removePanelClass(h+this._currentPosition),l.addPanelClass(h+c)}this._currentPosition=c}}_setupPointerEnterEventsIfNeeded(){this._disabled||!this.message||!this._viewInitialized||this._passiveListeners.length||(this._platformSupportsMouseEvents()?this._passiveListeners.push(["mouseenter",()=>{this._setupPointerExitEventsIfNeeded(),this.show()}]):"off"!==this.touchGestures&&(this._disableNativeGesturesIfNecessary(),this._passiveListeners.push(["touchstart",()=>{this._setupPointerExitEventsIfNeeded(),clearTimeout(this._touchstartTimeout),this._touchstartTimeout=setTimeout(()=>this.show(),500)}])),this._addListeners(this._passiveListeners))}_setupPointerExitEventsIfNeeded(){if(this._pointerExitEventsInitialized)return;this._pointerExitEventsInitialized=!0;const e=[];if(this._platformSupportsMouseEvents())e.push(["mouseleave",()=>this.hide()],["wheel",i=>this._wheelListener(i)]);else if("off"!==this.touchGestures){this._disableNativeGesturesIfNecessary();const i=()=>{clearTimeout(this._touchstartTimeout),this.hide(this._defaultOptions.touchendHideDelay)};e.push(["touchend",i],["touchcancel",i])}this._addListeners(e),this._passiveListeners.push(...e)}_addListeners(e){e.forEach(([i,o])=>{this._elementRef.nativeElement.addEventListener(i,o,rt)})}_platformSupportsMouseEvents(){return!this._platform.IOS&&!this._platform.ANDROID}_wheelListener(e){if(this._isTooltipVisible()){const i=this._document.elementFromPoint(e.clientX,e.clientY),o=this._elementRef.nativeElement;i!==o&&!o.contains(i)&&this.hide()}}_disableNativeGesturesIfNecessary(){const e=this.touchGestures;if("off"!==e){const i=this._elementRef.nativeElement,o=i.style;("on"===e||"INPUT"!==i.nodeName&&"TEXTAREA"!==i.nodeName)&&(o.userSelect=o.msUserSelect=o.webkitUserSelect=o.MozUserSelect="none"),("on"===e||!i.draggable)&&(o.webkitUserDrag="none"),o.touchAction="none",o.webkitTapHighlightColor="transparent"}}}return n.\u0275fac=function(e){return new(e||n)(t.Y36(x.aV),t.Y36(t.SBq),t.Y36(q.mF),t.Y36(t.s_b),t.Y36(t.R0b),t.Y36(A.t4),t.Y36(k.$s),t.Y36(k.tE),t.Y36(void 0),t.Y36(st.Is),t.Y36(void 0),t.Y36(m.K0))},n.\u0275dir=t.lG2({type:n,inputs:{showDelay:["matTooltipShowDelay","showDelay"],hideDelay:["matTooltipHideDelay","hideDelay"],touchGestures:["matTooltipTouchGestures","touchGestures"],position:["matTooltipPosition","position"],disabled:["matTooltipDisabled","disabled"],message:["matTooltip","message"],tooltipClass:["matTooltipClass","tooltipClass"]}}),n})(),Nt=(()=>{class n extends Yt{constructor(e,i,o,a,c,l,h,g,P,Z,M,K){super(e,i,o,a,c,l,h,g,P,Z,M,K),this._tooltipComponent=jt}}return n.\u0275fac=function(e){return new(e||n)(t.Y36(x.aV),t.Y36(t.SBq),t.Y36(q.mF),t.Y36(t.s_b),t.Y36(t.R0b),t.Y36(A.t4),t.Y36(k.$s),t.Y36(k.tE),t.Y36(ct),t.Y36(st.Is,8),t.Y36(Zt,8),t.Y36(m.K0))},n.\u0275dir=t.lG2({type:n,selectors:[["","matTooltip",""]],hostAttrs:[1,"mat-tooltip-trigger"],exportAs:["matTooltip"],features:[t.qOj]}),n})(),Ut=(()=>{class n{constructor(e){this._changeDetectorRef=e,this._visibility="initial",this._closeOnInteraction=!1,this._onHide=new b.xQ}show(e){clearTimeout(this._hideTimeoutId),this._closeOnInteraction=!0,this._showTimeoutId=setTimeout(()=>{this._visibility="visible",this._showTimeoutId=void 0,this._onShow(),this._markForCheck()},e)}hide(e){clearTimeout(this._showTimeoutId),this._hideTimeoutId=setTimeout(()=>{this._visibility="hidden",this._hideTimeoutId=void 0,this._markForCheck()},e)}afterHidden(){return this._onHide}isVisible(){return"visible"===this._visibility}ngOnDestroy(){clearTimeout(this._showTimeoutId),clearTimeout(this._hideTimeoutId),this._onHide.complete()}_animationStart(){this._closeOnInteraction=!1}_animationDone(e){const i=e.toState;"hidden"===i&&!this.isVisible()&&this._onHide.next(),("visible"===i||"hidden"===i)&&(this._closeOnInteraction=!0)}_handleBodyInteraction(){this._closeOnInteraction&&this.hide(0)}_markForCheck(){this._changeDetectorRef.markForCheck()}_onShow(){}}return n.\u0275fac=function(e){return new(e||n)(t.Y36(t.sBO))},n.\u0275dir=t.lG2({type:n}),n})(),jt=(()=>{class n extends Ut{constructor(e,i){super(e),this._breakpointObserver=i,this._isHandset=this._breakpointObserver.observe("(max-width: 599.98px) and (orientation: portrait), (max-width: 959.98px) and (orientation: landscape)")}}return n.\u0275fac=function(e){return new(e||n)(t.Y36(t.sBO),t.Y36(Q))},n.\u0275cmp=t.Xpm({type:n,selectors:[["mat-tooltip-component"]],hostAttrs:["aria-hidden","true"],hostVars:2,hostBindings:function(e,i){2&e&&t.Udp("zoom","visible"===i._visibility?1:null)},features:[t.qOj],decls:3,vars:7,consts:[[1,"mat-tooltip",3,"ngClass"]],template:function(e,i){if(1&e&&(t.TgZ(0,"div",0),t.NdJ("@state.start",function(){return i._animationStart()})("@state.done",function(a){return i._animationDone(a)}),t.ALo(1,"async"),t._uU(2),t.qZA()),2&e){let o;t.ekj("mat-tooltip-handset",null==(o=t.lcZ(1,5,i._isHandset))?null:o.matches),t.Q6J("ngClass",i.tooltipClass)("@state",i._visibility),t.xp6(2),t.Oqu(i.message)}},directives:[m.mk],pipes:[m.Ov],styles:[".mat-tooltip-panel{pointer-events:none !important}.mat-tooltip{color:#fff;border-radius:4px;margin:14px;max-width:250px;padding-left:8px;padding-right:8px;overflow:hidden;text-overflow:ellipsis}.cdk-high-contrast-active .mat-tooltip{outline:solid 1px}.mat-tooltip-handset{margin:24px;padding-left:16px;padding-right:16px}\n"],encapsulation:2,data:{animation:[Et.tooltipState]},changeDetection:0}),n})(),zt=(()=>{class n{}return n.\u0275fac=function(e){return new(e||n)},n.\u0275mod=t.oAB({type:n}),n.\u0275inj=t.cJS({providers:[Dt],imports:[[k.rt,m.ez,x.U8,O.BQ],O.BQ,q.ZD]}),n})();class Gt{constructor(s,e){this._document=e;const i=this._textarea=this._document.createElement("textarea"),o=i.style;o.position="fixed",o.top=o.opacity="0",o.left="-999em",i.setAttribute("aria-hidden","true"),i.value=s,this._document.body.appendChild(i)}copy(){const s=this._textarea;let e=!1;try{if(s){const i=this._document.activeElement;s.select(),s.setSelectionRange(0,s.value.length),e=this._document.execCommand("copy"),i&&i.focus()}}catch(i){}return e}destroy(){const s=this._textarea;s&&(s.parentNode&&s.parentNode.removeChild(s),this._textarea=void 0)}}let Qt=(()=>{class n{constructor(e){this._document=e}copy(e){const i=this.beginCopy(e),o=i.copy();return i.destroy(),o}beginCopy(e){return new Gt(e,this._document)}}return n.\u0275fac=function(e){return new(e||n)(t.LFG(m.K0))},n.\u0275prov=t.Yz7({factory:function(){return new n(t.LFG(m.K0))},token:n,providedIn:"root"}),n})();const Jt=new t.OlP("CDK_COPY_TO_CLIPBOARD_CONFIG");let Ht=(()=>{class n{constructor(e,i,o){this._clipboard=e,this._ngZone=i,this.text="",this.attempts=1,this.copied=new t.vpe,this._pending=new Set,o&&null!=o.attempts&&(this.attempts=o.attempts)}copy(e=this.attempts){if(e>1){let i=e;const o=this._clipboard.beginCopy(this.text);this._pending.add(o);const a=()=>{const c=o.copy();c||!--i||this._destroyed?(this._currentTimeout=null,this._pending.delete(o),o.destroy(),this.copied.emit(c)):this._currentTimeout=this._ngZone.runOutsideAngular(()=>setTimeout(a,1))};a()}else this.copied.emit(this._clipboard.copy(this.text))}ngOnDestroy(){this._currentTimeout&&clearTimeout(this._currentTimeout),this._pending.forEach(e=>e.destroy()),this._pending.clear(),this._destroyed=!0}}return n.\u0275fac=function(e){return new(e||n)(t.Y36(Qt),t.Y36(t.R0b),t.Y36(Jt,8))},n.\u0275dir=t.lG2({type:n,selectors:[["","cdkCopyToClipboard",""]],hostBindings:function(e,i){1&e&&t.NdJ("click",function(){return i.copy()})},inputs:{text:["cdkCopyToClipboard","text"],attempts:["cdkCopyToClipboardAttempts","attempts"]},outputs:{copied:"cdkCopyToClipboardCopied"}}),n})(),qt=(()=>{class n{}return n.\u0275fac=function(e){return new(e||n)},n.\u0275mod=t.oAB({type:n}),n.\u0275inj=t.cJS({}),n})();function Kt(n,s){if(1&n){const e=t.EpF();t.TgZ(0,"div",6),t.NdJ("click",function(){return t.CHM(e),t.oxw().showCopySnack()}),t._uU(1),t.qZA()}if(2&n){const e=t.oxw();t.Q6J("cdkCopyToClipboard",e.value),t.xp6(1),t.hij(" ",e.value," ")}}function Xt(n,s){1&n&&t._UZ(0,"div",7)}function $t(n,s){if(1&n){const e=t.EpF();t.TgZ(0,"mat-icon",8),t.NdJ("click",function(){return t.CHM(e),t.oxw().showCopySnack()}),t._uU(1," content_copy "),t.qZA()}if(2&n){const e=t.oxw();t.Q6J("cdkCopyToClipboard",e.value)}}let Vt=(()=>{class n{constructor(e){this.snackBar=e,this.canCopy=!0}ngOnInit(){console.log(this.value)}showCopySnack(){this.snackBar.open(`${this.label} zkop\xedrov\xe1n`,"OK",{duration:1500})}}return n.\u0275fac=function(e){return new(e||n)(t.Y36(Pt))},n.\u0275cmp=t.Xpm({type:n,selectors:[["app-attribute"]],inputs:{value:"value",label:"label",icon:"icon",canCopy:"canCopy"},decls:9,vars:5,consts:[[1,"flex-row","team-attribute"],[1,"material-icons-outlined","attr-ico"],[1,"flex-container"],["class","flex-row attribute-value","matTooltip","Zkop\xedrovat",3,"cdkCopyToClipboard","click",4,"ngIf"],["class","block-copy",4,"ngIf"],["matTooltip","Zkop\xedrovat","matRipple","","color","accent","class","material-icons-outlined copy",3,"cdkCopyToClipboard","click",4,"ngIf"],["matTooltip","Zkop\xedrovat",1,"flex-row","attribute-value",3,"cdkCopyToClipboard","click"],[1,"block-copy"],["matTooltip","Zkop\xedrovat","matRipple","","color","accent",1,"material-icons-outlined","copy",3,"cdkCopyToClipboard","click"]],template:function(e,i){1&e&&(t.TgZ(0,"div",0),t.TgZ(1,"mat-icon",1),t._uU(2),t.qZA(),t.TgZ(3,"div",2),t.TgZ(4,"div"),t._uU(5),t.qZA(),t.YNc(6,Kt,2,2,"div",3),t.YNc(7,Xt,1,0,"div",4),t.qZA(),t.YNc(8,$t,2,1,"mat-icon",5),t.qZA()),2&e&&(t.xp6(2),t.hij(" ",i.icon," "),t.xp6(3),t.hij(" ",i.label," "),t.xp6(1),t.Q6J("ngIf",i.value),t.xp6(1),t.Q6J("ngIf",!i.canCopy),t.xp6(1),t.Q6J("ngIf",i.canCopy))},directives:[H.Hw,m.O5,Nt,Ht,O.wG],styles:[".attribute-value[_ngcontent-%COMP%]{cursor:pointer;text-overflow:ellipsis;white-space:nowrap;overflow:hidden;min-width:0;flex:1}@media screen and (max-width: 560px){.attribute-value[_ngcontent-%COMP%]{max-width:160px}}.block-copy[_ngcontent-%COMP%]{position:absolute;top:0;right:0;bottom:0;left:0}"]}),n})();function Wt(n,s){if(1&n&&t._UZ(0,"app-attribute",16),2&n){const e=s.$implicit;t.Q6J("canCopy",!1)("label",e.nickname)}}function te(n,s){if(1&n){const e=t.EpF();t.ynx(0),t.TgZ(1,"div",3),t.TgZ(2,"div",4),t._uU(3),t.qZA(),t.TgZ(4,"div",5),t.TgZ(5,"div",6),t._UZ(6,"img",7),t.qZA(),t.TgZ(7,"div",8),t.TgZ(8,"div",9),t._UZ(9,"app-attribute",10),t._UZ(10,"app-attribute",11),t.qZA(),t.TgZ(11,"div",9),t._UZ(12,"app-attribute",12),t.qZA(),t.TgZ(13,"div",13),t.YNc(14,Wt,1,2,"app-attribute",14),t.qZA(),t.TgZ(15,"div",13),t.TgZ(16,"button",15),t.NdJ("click",function(){return t.CHM(e),t.oxw().leaveTeam()}),t._uU(17," Opustit team "),t.qZA(),t.qZA(),t.qZA(),t.qZA(),t.qZA(),t.BQk()}if(2&n){const e=s.ngIf;t.xp6(3),t.hij(" ",e.name," "),t.xp6(3),t.Q6J("src",e.QRCode,t.LSH),t.xp6(3),t.Q6J("value",e.invite_code),t.xp6(1),t.Q6J("value",e.inviteLink),t.xp6(2),t.Q6J("value",e.members.length+" / "+e.teamMax)("canCopy",!1),t.xp6(2),t.Q6J("ngForOf",e.members)}}function ee(n,s){}let ie=(()=>{class n{constructor(e,i,o,a){this.teamService=e,this.gameService=i,this.route=o,this.dialog=a}ngOnInit(){this.teamObs=this.teamService.getTeamById(this.route.snapshot.params.id).pipe((0,X.zg)(e=>this.gameService.getGameById(this.route.snapshot.params.cipherId).pipe((0,f.U)(i=>Object.assign(Object.assign({},e),{teamMax:i.teammax})))))}leaveTeam(){this.dialog.open(mt.K,{data:{text:"Opravdu chcete opustit team?"}}).afterClosed().pipe((0,j.n)(e=>!e)).subscribe(e=>{e&&alert("implementovat!")})}}return n.\u0275fac=function(e){return new(e||n)(t.Y36(L),t.Y36(ut.h),t.Y36(v.gz),t.Y36(ft.uw))},n.\u0275cmp=t.Xpm({type:n,selectors:[["app-team"]],decls:4,vars:4,consts:[[4,"ngIf","ngIfElse"],["class","loading"],["loading",""],[1,"flex-container","team-container"],[1,"flex-row","mat-display-3","header-text"],[1,"flex-row"],[1,"flex-item","qr-code"],["alt","QR code",3,"src"],[1,"flex-container",2,"flex","1"],[1,"flex-item",2,"flex-grow","0"],["label","Kl\xed\u010d teamu","icon","vpn_key_outline",3,"value"],["label","Pozv\xe1nkov\xfd link","icon","link",3,"value"],["label","Kapacita","icon","groups",3,"value","canCopy"],[1,"flex-item"],["icon","person",3,"canCopy","label",4,"ngFor","ngForOf"],["mat-raised-button","","color","warn",1,"leave-team-button",3,"click"],["icon","person",3,"canCopy","label"]],template:function(e,i){if(1&e&&(t.YNc(0,te,18,7,"ng-container",0),t.ALo(1,"async"),t.YNc(2,ee,0,0,"ng-template",1,2,t.W1O)),2&e){const o=t.MAs(3);t.Q6J("ngIf",t.lcZ(1,2,i.teamObs))("ngIfElse",o)}},directives:[m.O5,Vt,m.sg,S.lW],pipes:[m.Ov],styles:["-shadowcsshost-no-combinator{display:block;width:100%;height:100%;padding:64px 16px;box-sizing:border-box}  .header-text{justify-content:center}  .team-container{max-width:calc(100% - 32px);margin:64px 16px 0}  .flex-container{display:flex;flex-direction:column}  .flex-row{display:flex;flex-direction:row}  .qr-code{background:#fafafafa}  .qr-code img{width:100%}  .flex-item{flex:1 1 0;border-radius:5px;box-sizing:border-box;border:2px solid #fafafa;margin:8px}  .flex-item img{max-width:100%}  .team-attribute{align-items:center;position:relative}  .team-attribute mat-icon{width:32px;height:32px}  .attr-ico{margin-right:24px;font-size:32px}  app-attribute:not(:last-child) .team-attribute{margin-bottom:32px}  .copy{align-self:center;cursor:pointer;padding:8px;border-radius:50%;box-sizing:border-box;font-size:16px!important;position:absolute;right:0;top:0;margin:4px}  .flex-item:not(.qr-code){padding:24px 32px}@media screen and (max-width: 560px){  .flex-item{min-width:100%;margin:8px 0}  .flex-row{flex-wrap:wrap}  -shadowcsshost-no-combinator{padding:64px 32px}}.leave-team-button[_ngcontent-%COMP%]{width:100%;height:64px}"]}),n})();var lt=r(6334);const se=["video"];function ce(n,s){if(1&n&&(t.TgZ(0,"mat-error"),t._uU(1),t.qZA()),2&n){const e=t.oxw();t.xp6(1),t.hij(" ",e.usernameErrorMessage()," ")}}function le(n,s){1&n&&(t.TgZ(0,"mat-error"),t._uU(1),t.qZA()),2&n&&(t.xp6(1),t.hij(" ","Po\u017eadov\xe1no"," "))}function de(n,s){if(1&n&&(t.TgZ(0,"div",11),t._uU(1),t.qZA()),2&n){const e=t.oxw();t.xp6(1),t.hij(" ",e.error," ")}}const pe=[{path:"create/:id",component:ht,canActivate:[(()=>{class n{constructor(e,i){this.authService=e,this.router=i}canActivate(e,i){return this.all(i.url)}canActivateChild(e,i){return this.all(i.url)}all(e){return this.authService.user.asObservable().pipe((0,j.n)(i=>null==i),(0,f.U)(i=>!!i.loggedIn||(console.log(e),this.authService.setUrlBeforePrompting(e),this.router.createUrlTree(["/auth/login"]))))}}return n.\u0275fac=function(e){return new(e||n)(t.LFG(lt.e),t.LFG(v.F0))},n.\u0275prov=t.Yz7({token:n,factory:n.\u0275fac,providedIn:"root"}),n})()]},{path:"join",component:(()=>{class n{constructor(){}ngOnInit(){}}return n.\u0275fac=function(e){return new(e||n)},n.\u0275cmp=t.Xpm({type:n,selectors:[["app-join"]],decls:14,vars:0,consts:[["matRipple","","routerLink","qr",1,"main-menu-item","noselect"],["viewBox","0 0 1 1"],[1,"material-icons-outlined"],["matRipple","","routerLink","code",1,"main-menu-item","noselect"]],template:function(e,i){1&e&&(t.TgZ(0,"div",0),t.O4$(),t._UZ(1,"svg",1),t.kcU(),t.TgZ(2,"div"),t.TgZ(3,"mat-icon",2),t._uU(4,"qr_code_scanner"),t.qZA(),t._UZ(5,"br"),t._uU(6," P\u0159ipojit pomoc\xed QR k\xf3du "),t.qZA(),t.qZA(),t.TgZ(7,"div",3),t.O4$(),t._UZ(8,"svg",1),t.kcU(),t.TgZ(9,"div"),t.TgZ(10,"mat-icon",2),t._uU(11,"vpn_key"),t.qZA(),t._UZ(12,"br"),t._uU(13," P\u0159ipojit pomoc\xed kl\xed\u010de "),t.qZA(),t.qZA())},directives:[O.wG,v.rH,H.Hw],styles:["","[_nghost-%COMP%]{display:flex;flex-wrap:wrap;width:100%;height:100%;box-sizing:border-box;overflow-y:auto;overflow-x:hidden;align-items:center;justify-content:center}.main-menu-item[_ngcontent-%COMP%]{border-radius:32px;display:grid;position:relative;flex:1;min-width:256px;margin:32px;border:2px solid white;cursor:pointer;overflow:hidden}.main-menu-item[_ngcontent-%COMP%] > *[_ngcontent-%COMP%]{grid-area:1/1}.main-menu-item[_ngcontent-%COMP%]   div[_ngcontent-%COMP%]{display:flex;flex-direction:column;position:absolute;width:100%;height:100%;top:0;left:0;align-items:center;justify-content:center}.main-menu-item[_ngcontent-%COMP%]   div[_ngcontent-%COMP%]   mat-icon[_ngcontent-%COMP%]{font-size:48px;width:48px;height:48px}.filler[_ngcontent-%COMP%]{flex:1;min-width:256px;margin:0 32px;height:0}@media screen and (max-width: 560px){.main-menu-item[_ngcontent-%COMP%]{min-width:calc(100% - 64px);height:calc(50% - 64px);cursor:auto}}"]}),n})()},{path:"join/qr",component:(()=>{class n{constructor(e){this.router=e}ngOnInit(){}ngAfterViewInit(){this.qrCodeReader=new Html5Qrcode("reader"),this.qrCodeReader.start({facingMode:"environment"},{fps:10,qrbox:250,aspectRatio:1},a=>{this.router.navigate(["/team/join/code"],{queryParams:{code:a.split("=").pop()}}).then().catch(c=>{u.N.production||console.error(c)})}).then(console.error).catch(a=>{u.N.production||console.error(a)})}ngOnDestroy(){this.qrCodeReader&&this.qrCodeReader.stop().then().catch(e=>{u.N.production||console.error(e)})}}return n.\u0275fac=function(e){return new(e||n)(t.Y36(v.F0))},n.\u0275cmp=t.Xpm({type:n,selectors:[["app-qr"]],viewQuery:function(e,i){if(1&e&&t.Gf(se,5),2&e){let o;t.iGM(o=t.CRH())&&(i.videoHtml=o.first)}},decls:1,vars:0,consts:[["id","reader"]],template:function(e,i){1&e&&t._UZ(0,"div",0)},styles:["[_nghost-%COMP%]{display:block;position:absolute;top:0;left:0;width:100%;height:100%;overflow:hidden}#reader[_ngcontent-%COMP%]{position:absolute;left:50%;top:50%;transform:translate(-50%,-50%)}@media screen and (orientation: landscape){#reader[_ngcontent-%COMP%]{width:100%}}@media screen and (orientation: portrait){#reader[_ngcontent-%COMP%]{width:100vh}}"]}),n})()},{path:"join/code",component:(()=>{class n{constructor(e,i,o,a,c){this.teamService=e,this.authService=i,this.loadingService=o,this.router=a,this.route=c,this.codeControl=new d.NI(this.route.snapshot.queryParamMap.get("code"),[d.kI.required]),this.usernameControl=new d.NI("",[d.kI.required,d.kI.minLength(4),d.kI.maxLength(80)]),this.joinTeamForm=new d.cw({code:this.codeControl,username:this.usernameControl}),this.loadingService.startLoading(this.authService.user.asObservable().pipe((0,j.n)(l=>null==l))).pipe((0,f.U)(l=>l.loggedIn),(0,X.zg)(l=>this.loadingService.loading.asObservable().pipe((0,f.U)(h=>h||l)))).subscribe(l=>{var h;l?(this.usernameControl.disable(),this.usernameControl.setValue(null===(h=this.authService.user.value)||void 0===h?void 0:h.person.nickname)):this.usernameControl.enable()})}ngOnInit(){}joinTeam(){this.teamService.joinTeam(this.codeControl.value).subscribe(e=>{this.router.navigate(["/team",e]).then().catch(i=>{})},e=>{e.status>=400&&e.status<500?this.error="Nepoda\u0159ilo se p\u0159ipojit k teamu":e.status>=500&&(this.error="Stala se chyba na stran\u011b serveru")})}usernameErrorMessage(){return this.usernameControl.hasError("required")?"Po\u017eadov\xe1no":this.usernameControl.hasError("minlength")?"U\u017eivatelsk\xe9 jm\xe9no mus\xed m\xedt alenpo\u0148 4 znaky":this.usernameControl.hasError("maxlength")?"U\u017eivatelsk\xe9 jm\xe9no mus\xed m\xedt nev\xedce 80 znak\u016f":void 0}}return n.\u0275fac=function(e){return new(e||n)(t.Y36(L),t.Y36(lt.e),t.Y36(B.b),t.Y36(v.F0),t.Y36(v.gz))},n.\u0275cmp=t.Xpm({type:n,selectors:[["app-code"]],decls:19,vars:5,consts:[[3,"formGroup","ngSubmit"],[1,"grow-container","label"],[1,"mat-display-3"],["appearance","outline",1,"form-item"],["matInput","","formControlName","username"],[4,"ngIf"],["matInput","","formControlName","code"],["class","error form-item",4,"ngIf"],[1,"buttons"],["mat-raised-button","","color","primary","type","submit",3,"disabled"],[1,"grow-container"],[1,"error","form-item"]],template:function(e,i){1&e&&(t.TgZ(0,"form",0),t.NdJ("ngSubmit",function(){return i.joinTeam()}),t.TgZ(1,"div",1),t.TgZ(2,"h1",2),t._uU(3,"P\u0159ipojit se k teamu"),t.qZA(),t.qZA(),t.TgZ(4,"mat-form-field",3),t.TgZ(5,"mat-label"),t._uU(6," U\u017eivatelsk\xe9 jm\xe9no "),t.qZA(),t._UZ(7,"input",4),t.YNc(8,ce,2,1,"mat-error",5),t.qZA(),t.TgZ(9,"mat-form-field",3),t.TgZ(10,"mat-label"),t._uU(11," k\xf3d "),t.qZA(),t._UZ(12,"input",6),t.YNc(13,le,2,1,"mat-error",5),t.qZA(),t.YNc(14,de,2,1,"div",7),t.TgZ(15,"div",8),t.TgZ(16,"button",9),t._uU(17," P\u0159idat se "),t.qZA(),t.qZA(),t._UZ(18,"div",10),t.qZA()),2&e&&(t.Q6J("formGroup",i.joinTeamForm),t.xp6(8),t.Q6J("ngIf",i.usernameControl.valid),t.xp6(5),t.Q6J("ngIf",i.codeControl.invalid),t.xp6(1),t.Q6J("ngIf",i.error),t.xp6(2),t.Q6J("disabled",!i.joinTeamForm.valid))},directives:[d._Y,d.JL,d.sg,w.KE,w.hX,U.Nt,d.Fj,d.JJ,d.u,m.O5,S.lW,w.TO],styles:["","form[_ngcontent-%COMP%]{display:flex;height:100%;flex-direction:column;align-items:center;font-size:1.1rem}.form-item[_ngcontent-%COMP%]{width:calc(100% - 256px)}mat-form-field[_ngcontent-%COMP%]{font-size:18px}button[_ngcontent-%COMP%]{width:150px;height:48px;margin:0 8px;font-size:1.1rem}.grow-container[_ngcontent-%COMP%]{display:flex;width:100%;flex:1 1;align-items:center;justify-content:center;box-sizing:border-box}.grow-container[_ngcontent-%COMP%]   h1[_ngcontent-%COMP%]{margin:64px 0 0}@media screen and (max-width: 560px){.form-item[_ngcontent-%COMP%]{width:calc(100% - 64px)}.grow-container[_ngcontent-%COMP%]{box-sizing:border-box}.grow-container[_ngcontent-%COMP%]:last-child{min-height:48px;flex-grow:0}}.error[_ngcontent-%COMP%]{padding:12px 0;margin-bottom:16px;text-align:center;border-radius:5px}.buttons[_ngcontent-%COMP%]{display:flex}.label[_ngcontent-%COMP%]{text-align:center;flex:2 1}"]}),n})()},{path:":id/:cipherId",component:ie}];let he=(()=>{class n{}return n.\u0275fac=function(e){return new(e||n)},n.\u0275mod=t.oAB({type:n}),n.\u0275inj=t.cJS({providers:[L],imports:[[m.ez,v.Bz.forChild(pe),d.UX,w.lN,U.c,S.ot,H.Ps,zt,qt,O.si,it]]}),n})()}}]);