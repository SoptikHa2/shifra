"use strict";(self.webpackChunkfrontend=self.webpackChunkfrontend||[]).push([[34],{8034:(A,d,a)=>{a.r(d),a.d(d,{AuthModule:()=>O});var l=a(8583),e=a(7716),c=a(6334),m=a(15),n=a(3679),s=a(8295),g=a(9983),p=a(1095);function f(t,o){1&t&&e._UZ(0,"mat-error")}function h(t,o){if(1&t&&(e.TgZ(0,"div",12),e._uU(1),e.qZA()),2&t){const r=e.oxw();e.xp6(1),e.hij(" ",r.error," ")}}let x=(()=>{class t{constructor(r,i,u){this.authService=r,this.router=i,this.formBuilder=u,this.loginFormGroup=u.group({username:[""],password:[""]})}ngOnInit(){}login(){this.authService.login(this.loginFormGroup.value.username,this.loginFormGroup.value.password).then(r=>{r&&this.authService.returnFromPromotedLogin()})}}return t.\u0275fac=function(r){return new(r||t)(e.Y36(c.e),e.Y36(m.F0),e.Y36(n.qu))},t.\u0275cmp=e.Xpm({type:t,selectors:[["app-login"]],decls:20,vars:3,consts:[[3,"formGroup","ngSubmit"],[1,"grow-container","label"],[1,"mat-display-3"],["appearance","outline",1,"form-item"],["matInput","","formControlName","username"],["type","password","matInput","","formControlName","password"],[4,"ngIf"],["class","error form-item",4,"ngIf"],[1,"buttons"],["mat-raised-button","","color","primary","type","submit"],["mat-button","","color","accent","type","button","routerLink","/auth/register"],[1,"grow-container"],[1,"error","form-item"]],template:function(r,i){1&r&&(e.TgZ(0,"form",0),e.NdJ("ngSubmit",function(){return i.login()}),e.TgZ(1,"div",1),e.TgZ(2,"h1",2),e._uU(3,"Login"),e.qZA(),e.qZA(),e.TgZ(4,"mat-form-field",3),e.TgZ(5,"mat-label"),e._uU(6,"U\u017eivatelsk\xe9 jm\xe9no"),e.qZA(),e._UZ(7,"input",4),e.qZA(),e.TgZ(8,"mat-form-field",3),e.TgZ(9,"mat-label"),e._uU(10,"Heslo"),e.qZA(),e._UZ(11,"input",5),e.YNc(12,f,1,0,"mat-error",6),e.qZA(),e.YNc(13,h,2,1,"div",7),e.TgZ(14,"div",8),e.TgZ(15,"button",9),e._uU(16," P\u0159ihl\xe1sit se "),e.qZA(),e.TgZ(17,"button",10),e._uU(18," Nem\xe1m \xfa\u010det "),e.qZA(),e.qZA(),e._UZ(19,"div",11),e.qZA()),2&r&&(e.Q6J("formGroup",i.loginFormGroup),e.xp6(12),e.Q6J("ngIf",i.loginFormGroup.errors),e.xp6(1),e.Q6J("ngIf",i.error))},directives:[n._Y,n.JL,n.sg,s.KE,s.hX,g.Nt,n.Fj,n.JJ,n.u,l.O5,p.lW,m.rH,s.TO],styles:["@media screen and (max-width: 560px){.buttons[_ngcontent-%COMP%]{margin-top:128px}}","form[_ngcontent-%COMP%]{display:flex;height:100%;flex-direction:column;align-items:center;font-size:1.1rem}.form-item[_ngcontent-%COMP%]{width:calc(100% - 256px)}mat-form-field[_ngcontent-%COMP%]{font-size:18px}button[_ngcontent-%COMP%]{width:150px;height:48px;margin:0 8px;font-size:1.1rem}.grow-container[_ngcontent-%COMP%]{display:flex;width:100%;flex:1 1;align-items:center;justify-content:center}.grow-container[_ngcontent-%COMP%]   h1[_ngcontent-%COMP%]{margin:32px 0 0}@media screen and (max-width: 560px){.form-item[_ngcontent-%COMP%]{width:calc(100% - 64px)}.grow-container[_ngcontent-%COMP%]{align-items:flex-start;padding-top:48px;box-sizing:border-box}.grow-container[_ngcontent-%COMP%]:last-child{min-height:64px;flex-grow:0}}.error[_ngcontent-%COMP%]{padding:12px 0;margin-bottom:16px;text-align:center;border-radius:5px}"]}),t})();var w=a(6627);const Z=t=>{if(null==t.parent)return null;const o=t.parent.get("password"),r=t.parent.get("re_password");return o&&r&&o.value!==r.value?{passwordNoMatch:!0}:null};function _(t,o){if(1&t&&(e.TgZ(0,"mat-error"),e._uU(1),e.qZA()),2&t){const r=e.oxw();e.xp6(1),e.hij(" ",r.usernameErrorMessage()," ")}}function C(t,o){if(1&t&&(e.TgZ(0,"mat-error"),e._uU(1),e.qZA()),2&t){const r=e.oxw();e.xp6(1),e.hij(" ",r.emailErrorMessage()," ")}}function v(t,o){if(1&t&&(e.TgZ(0,"mat-error"),e._uU(1),e.qZA()),2&t){const r=e.oxw();e.xp6(1),e.hij(" ",r.passwordErrorMessage()," ")}}function M(t,o){if(1&t&&(e.TgZ(0,"mat-error"),e._uU(1),e.qZA()),2&t){const r=e.oxw();e.xp6(1),e.hij(" ",r.rePasswordErrorMessage()," ")}}function P(t,o){if(1&t&&(e.TgZ(0,"div",15),e._uU(1),e.qZA()),2&t){const r=e.oxw();e.xp6(1),e.hij(" ",r.error," ")}}const T=[{path:"login",component:x},{path:"register",component:(()=>{class t{constructor(r,i){this.authService=r,this.formBuilder=i,this.username=new n.NI("",[n.kI.required,n.kI.minLength(4),n.kI.maxLength(80)]),this.email=new n.NI("",[n.kI.required,n.kI.email]),this.password=new n.NI("",[n.kI.required,n.kI.minLength(6),n.kI.maxLength(100)]),this.rePassword=new n.NI("",[n.kI.required,Z]),this.registerFormGroup=new n.cw({username:this.username,email:this.email,password:this.password,re_password:this.rePassword})}ngOnInit(){}register(){this.authService.register(this.username.value,this.email.value,this.password.value).then(r=>{r&&this.authService.returnFromPromotedLogin()})}usernameErrorMessage(){return this.username.hasError("required")?"Po\u017eadov\xe1no":this.username.hasError("minlength")?"U\u017eivatelsk\xe9 jm\xe9no mus\xed m\xedt alenpo\u0148 4 znaky":this.username.hasError("maxlength")?"U\u017eivatelsk\xe9 jm\xe9no mus\xed m\xedt nev\xedce 80 znak\u016f":void 0}emailErrorMessage(){return this.email.hasError("required")?"Po\u017eadov\xe1no":this.email.hasError("email")?"Neplatn\xfd email":void 0}passwordErrorMessage(){return this.password.hasError("required")?"Po\u017eadov\xe1no":this.password.hasError("minlength")?"Heslo mus\xed m\xedt alespo\u0148 6 znak\u016f":this.password.hasError("maxlength")?"Heslo mus\xed m\xedt nejv\xedce 100 znak\u016f":void 0}rePasswordErrorMessage(){return this.rePassword.hasError("required")?"Po\u017eadov\xe1no":this.rePassword.hasError("passwordNoMatch")?"Hesla se neshoduj\xed":void 0}}return t.\u0275fac=function(r){return new(r||t)(e.Y36(c.e),e.Y36(n.qu))},t.\u0275cmp=e.Xpm({type:t,selectors:[["app-register"]],decls:32,vars:7,consts:[[3,"formGroup","ngSubmit"],[1,"grow-container","label"],[1,"mat-display-3"],["appearance","outline",1,"form-item"],["matInput","","formControlName","username"],[4,"ngIf"],["matInput","","formControlName","email"],[1,"password-form-fields","form-item"],["appearance","outline"],["type","password","matInput","","formControlName","password"],["type","password","matInput","","formControlName","re_password"],["class","error form-item",4,"ngIf"],["mat-raised-button","","color","primary","type","submit",3,"disabled"],["mat-button","","color","accent","type","button","routerLink","/auth/login"],[1,"grow-container"],[1,"error","form-item"]],template:function(r,i){1&r&&(e.TgZ(0,"form",0),e.NdJ("ngSubmit",function(){return i.register()}),e.TgZ(1,"div",1),e.TgZ(2,"h1",2),e._uU(3,"Register"),e.qZA(),e.qZA(),e.TgZ(4,"mat-form-field",3),e.TgZ(5,"mat-label"),e._uU(6,"U\u017eivatelsk\xe9 jm\xe9no"),e.qZA(),e._UZ(7,"input",4),e.YNc(8,_,2,1,"mat-error",5),e.qZA(),e.TgZ(9,"mat-form-field",3),e.TgZ(10,"mat-label"),e._uU(11,"Email"),e.qZA(),e._UZ(12,"input",6),e.YNc(13,C,2,1,"mat-error",5),e.qZA(),e.TgZ(14,"div",7),e.TgZ(15,"mat-form-field",8),e.TgZ(16,"mat-label"),e._uU(17,"Heslo"),e.qZA(),e._UZ(18,"input",9),e.YNc(19,v,2,1,"mat-error",5),e.qZA(),e.TgZ(20,"mat-form-field",8),e.TgZ(21,"mat-label"),e._uU(22,"Heslo znovu"),e.qZA(),e._UZ(23,"input",10),e.YNc(24,M,2,1,"mat-error",5),e.qZA(),e.qZA(),e.YNc(25,P,2,1,"div",11),e.TgZ(26,"div"),e.TgZ(27,"button",12),e._uU(28," Registrovat se "),e.qZA(),e.TgZ(29,"button",13),e._uU(30," M\xe1m \xfa\u010det "),e.qZA(),e.qZA(),e._UZ(31,"div",14),e.qZA()),2&r&&(e.Q6J("formGroup",i.registerFormGroup),e.xp6(8),e.Q6J("ngIf",i.username.invalid),e.xp6(5),e.Q6J("ngIf",i.email.invalid),e.xp6(6),e.Q6J("ngIf",i.password.invalid),e.xp6(5),e.Q6J("ngIf",i.rePassword.invalid),e.xp6(1),e.Q6J("ngIf",i.error),e.xp6(2),e.Q6J("disabled",!i.registerFormGroup.valid))},directives:[n._Y,n.JL,n.sg,s.KE,s.hX,g.Nt,n.Fj,n.JJ,n.u,l.O5,p.lW,m.rH,s.TO],styles:["form[_ngcontent-%COMP%]{display:flex;height:100%;flex-direction:column;align-items:center;font-size:1.1rem}.form-item[_ngcontent-%COMP%]{width:calc(100% - 256px)}mat-form-field[_ngcontent-%COMP%]{font-size:18px}button[_ngcontent-%COMP%]{width:150px;height:48px;margin:0 8px;font-size:1.1rem}.grow-container[_ngcontent-%COMP%]{display:flex;width:100%;flex:1 1;align-items:center;justify-content:center}.grow-container[_ngcontent-%COMP%]   h1[_ngcontent-%COMP%]{margin:32px 0 0}@media screen and (max-width: 560px){.form-item[_ngcontent-%COMP%]{width:calc(100% - 64px)}.grow-container[_ngcontent-%COMP%]{align-items:flex-start;padding-top:48px;box-sizing:border-box}.grow-container[_ngcontent-%COMP%]:last-child{min-height:64px;flex-grow:0}}.error[_ngcontent-%COMP%]{padding:12px 0;margin-bottom:16px;text-align:center;border-radius:5px}",".password-form-fields[_ngcontent-%COMP%]{width:calc(100% - 256px);margin-bottom:16px}.password-form-fields[_ngcontent-%COMP%]   mat-form-field[_ngcontent-%COMP%]{width:calc(50% - 16px)}.password-form-fields[_ngcontent-%COMP%]   mat-form-field[_ngcontent-%COMP%]:first-child{margin-right:16px}.password-form-fields[_ngcontent-%COMP%]   mat-form-field[_ngcontent-%COMP%]:last-child{margin-left:16px}@media screen and (max-width: 560px){.password-form-fields[_ngcontent-%COMP%]{width:calc(100% - 64px);flex-direction:column}.password-form-fields[_ngcontent-%COMP%]   mat-form-field[_ngcontent-%COMP%]{width:100%;margin:0!important}}"]}),t})()}];let O=(()=>{class t{}return t.\u0275fac=function(r){return new(r||t)},t.\u0275mod=e.oAB({type:t}),t.\u0275inj=e.cJS({imports:[[l.ez,m.Bz.forChild(T),g.c,w.Ps,p.ot,n.UX]]}),t})()}}]);