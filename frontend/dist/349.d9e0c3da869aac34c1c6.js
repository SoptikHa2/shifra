"use strict";(self.webpackChunkfrontend=self.webpackChunkfrontend||[]).push([[349],{349:($,C,l)=>{l.r(C),l.d(C,{CipherModule:()=>Et});var p=l(8583),f=l(5917),y=l(323),v=l(8002),_=l(3190),I=l(6888),k=l(3342),d=l(2238),t=l(7716),c=l(1095),u=l(6627),S=l(6715);function W(i,a){if(1&i&&t._UZ(0,"img",9),2&i){const e=t.oxw();t.Q6J("src",e.data.img,t.LSH)}}function X(i,a){if(1&i&&t._UZ(0,"markdown",10),2&i){const e=t.oxw();t.Q6J("data",e.data.msg)}}let P=(()=>{class i{constructor(e){this.data=e}ngOnInit(){}}return i.\u0275fac=function(e){return new(e||i)(t.Y36(d.WI))},i.\u0275cmp=t.Xpm({type:i,selectors:[["app-hint-dialog"]],decls:14,vars:3,consts:[["mat-dialog-title",""],[1,"mat-typography"],["alt","obr\xe1zek","class","image",3,"src",4,"ngIf"],[3,"data",4,"ngIf"],["target","_blank","tabindex","-1",2,"display","none",3,"href"],["fileLink",""],["mat-raised-button","","color","primary","tabindex","-1",1,"download",3,"click"],["align","end"],["mat-button","","mat-dialog-close","","tabindex","0","color","accent"],["alt","obr\xe1zek",1,"image",3,"src"],[3,"data"]],template:function(e,s){if(1&e){const n=t.EpF();t.TgZ(0,"h2",0),t._uU(1," N\xe1pov\u011bda "),t.qZA(),t.TgZ(2,"mat-dialog-content",1),t.YNc(3,W,1,1,"img",2),t.YNc(4,X,1,1,"markdown",3),t._UZ(5,"a",4,5),t.TgZ(7,"button",6),t.NdJ("click",function(){return t.CHM(n),t.MAs(6).click()}),t.TgZ(8,"mat-icon"),t._uU(9," download "),t.qZA(),t._uU(10," Soubor ke sta\u017een\xed "),t.qZA(),t.qZA(),t.TgZ(11,"mat-dialog-actions",7),t.TgZ(12,"button",8),t._uU(13,"Skr\xfdt"),t.qZA(),t.qZA()}2&e&&(t.xp6(3),t.Q6J("ngIf",s.data.img),t.xp6(1),t.Q6J("ngIf",s.data.msg),t.xp6(1),t.Q6J("href",s.data.hint_file,t.LSH))},directives:[d.uh,d.xY,p.O5,c.lW,u.Hw,d.H8,d.ZT,S.lF],styles:[".download[_ngcontent-%COMP%]{width:100%;height:64px}.image[_ngcontent-%COMP%]{width:100%}"]}),i})();var b=l(2340),L=l(205),A=l(5304),q=l(1841),tt=l(4471);let B=(()=>{class i{constructor(e,s){this.http=e,this.loadingService=s}getVisibleCiphers(e){return this.loadingService.startLoading(this.http.get(b.N.backendUrl+`/api/game/${e}/ciphers`).pipe((0,A.K)(this.handleError)))}getCipher(e){return this.loadingService.startLoading(this.http.get(b.N.backendUrl+`/api/cipher/${e}`).pipe((0,A.K)(this.handleError)))}makeAttempt(e,s){return this.loadingService.startLoading(this.http.post(b.N.backendUrl+`/api/cipher/${e}/attempt`,{answer:s},{observe:"response"}).pipe((0,A.K)(n=>(0,L._)(417==n.status?"\u0160patn\xe1 odpov\u011b\u010f!":n.status>=500?"Stala se chyba na stran\u011b serveru! Pros\xedm kontaktujte nejbli\u017e\u0161\xedho organiz\xe1tora.":"Stala se neo\u010dek\xe1van\xe1 chyba, zkuste pros\xedm p\u0159ena\u010d\xedst str\xe1nku. V p\u0159\xedpad\u011b probl\xe9mu kontaktujte organiz\xe1tora."))))}openHint(e){return this.loadingService.startLoading(this.http.post(`${b.N.backendUrl}/api/hint/${e}`,{}))}handleError(e){return b.N.production||console.error(e),(0,L._)(e)}}return i.\u0275fac=function(e){return new(e||i)(t.LFG(q.eN),t.LFG(tt.b))},i.\u0275prov=t.Yz7({token:i,factory:i.\u0275fac,providedIn:"root"}),i})();var et=l(9075),w=l(3423),T=l(8295),N=l(9983),x=l(3679),r=l(2458),h=l(9490),O=l(9765),M=l(6782),it=l(9761),Q=l(9238),R=l(8345),g=l(6461);let st=(()=>{class i{}return i.\u0275fac=function(e){return new(e||i)},i.\u0275mod=t.oAB({type:i}),i.\u0275inj=t.cJS({imports:[[r.BQ],r.BQ]}),i})();const D=["*"],ot=["text"];function lt(i,a){if(1&i&&t._UZ(0,"mat-pseudo-checkbox",5),2&i){const e=t.oxw();t.Q6J("state",e.selected?"checked":"unchecked")("disabled",e.disabled)}}const rt=["*",[["","mat-list-avatar",""],["","mat-list-icon",""],["","matListAvatar",""],["","matListIcon",""]]],mt=["*","[mat-list-avatar], [mat-list-icon], [matListAvatar], [matListIcon]"];let Y=(()=>{class i{}return i.\u0275fac=function(e){return new(e||i)},i.\u0275dir=t.lG2({type:i,selectors:[["","mat-list-avatar",""],["","matListAvatar",""]],hostAttrs:[1,"mat-list-avatar"]}),i})(),E=(()=>{class i{}return i.\u0275fac=function(e){return new(e||i)},i.\u0275dir=t.lG2({type:i,selectors:[["","mat-list-icon",""],["","matListIcon",""]],hostAttrs:[1,"mat-list-icon"]}),i})();const ct=(0,r.Kr)(class{}),pt=(0,r.Kr)(class{}),ht={provide:x.JU,useExisting:(0,t.Gpc)(()=>F),multi:!0};class gt{constructor(a,e,s){this.source=a,this.option=e,this.options=s}}let j=(()=>{class i extends pt{constructor(e,s,n){super(),this._element=e,this._changeDetector=s,this.selectionList=n,this._selected=!1,this._disabled=!1,this._hasFocus=!1,this.selectedChange=new t.vpe,this.checkboxPosition="after",this._inputsInitialized=!1}get color(){return this._color||this.selectionList.color}set color(e){this._color=e}get value(){return this._value}set value(e){this.selected&&!this.selectionList.compareWith(e,this.value)&&this._inputsInitialized&&(this.selected=!1),this._value=e}get disabled(){return this._disabled||this.selectionList&&this.selectionList.disabled}set disabled(e){const s=(0,h.Ig)(e);s!==this._disabled&&(this._disabled=s,this._changeDetector.markForCheck())}get selected(){return this.selectionList.selectedOptions.isSelected(this)}set selected(e){const s=(0,h.Ig)(e);s!==this._selected&&(this._setSelected(s),(s||this.selectionList.multiple)&&this.selectionList._reportValueChange())}ngOnInit(){const e=this.selectionList;e._value&&e._value.some(n=>e.compareWith(n,this._value))&&this._setSelected(!0);const s=this._selected;Promise.resolve().then(()=>{(this._selected||s)&&(this.selected=!0,this._changeDetector.markForCheck())}),this._inputsInitialized=!0}ngAfterContentInit(){(0,r.E0)(this._lines,this._element)}ngOnDestroy(){this.selected&&Promise.resolve().then(()=>{this.selected=!1});const e=this._hasFocus,s=this.selectionList._removeOptionFromList(this);e&&s&&s.focus()}toggle(){this.selected=!this.selected}focus(){this._element.nativeElement.focus()}getLabel(){return this._text&&this._text.nativeElement.textContent||""}_isRippleDisabled(){return this.disabled||this.disableRipple||this.selectionList.disableRipple}_handleClick(){!this.disabled&&(this.selectionList.multiple||!this.selected)&&(this.toggle(),this.selectionList._emitChangeEvent([this]))}_handleFocus(){this.selectionList._setFocusedOption(this),this._hasFocus=!0}_handleBlur(){this.selectionList._onTouched(),this._hasFocus=!1}_getHostElement(){return this._element.nativeElement}_setSelected(e){return e!==this._selected&&(this._selected=e,e?this.selectionList.selectedOptions.select(this):this.selectionList.selectedOptions.deselect(this),this.selectedChange.emit(e),this._changeDetector.markForCheck(),!0)}_markForCheck(){this._changeDetector.markForCheck()}}return i.\u0275fac=function(e){return new(e||i)(t.Y36(t.SBq),t.Y36(t.sBO),t.Y36((0,t.Gpc)(()=>F)))},i.\u0275cmp=t.Xpm({type:i,selectors:[["mat-list-option"]],contentQueries:function(e,s,n){if(1&e&&(t.Suo(n,Y,5),t.Suo(n,E,5),t.Suo(n,r.X2,5)),2&e){let o;t.iGM(o=t.CRH())&&(s._avatar=o.first),t.iGM(o=t.CRH())&&(s._icon=o.first),t.iGM(o=t.CRH())&&(s._lines=o)}},viewQuery:function(e,s){if(1&e&&t.Gf(ot,5),2&e){let n;t.iGM(n=t.CRH())&&(s._text=n.first)}},hostAttrs:["role","option",1,"mat-list-item","mat-list-option","mat-focus-indicator"],hostVars:15,hostBindings:function(e,s){1&e&&t.NdJ("focus",function(){return s._handleFocus()})("blur",function(){return s._handleBlur()})("click",function(){return s._handleClick()}),2&e&&(t.uIk("aria-selected",s.selected)("aria-disabled",s.disabled)("tabindex",-1),t.ekj("mat-list-item-disabled",s.disabled)("mat-list-item-with-avatar",s._avatar||s._icon)("mat-primary","primary"===s.color)("mat-accent","primary"!==s.color&&"warn"!==s.color)("mat-warn","warn"===s.color)("mat-list-single-selected-option",s.selected&&!s.selectionList.multiple))},inputs:{disableRipple:"disableRipple",checkboxPosition:"checkboxPosition",color:"color",value:"value",selected:"selected",disabled:"disabled"},outputs:{selectedChange:"selectedChange"},exportAs:["matListOption"],features:[t.qOj],ngContentSelectors:mt,decls:7,vars:5,consts:[[1,"mat-list-item-content"],["mat-ripple","",1,"mat-list-item-ripple",3,"matRippleTrigger","matRippleDisabled"],[3,"state","disabled",4,"ngIf"],[1,"mat-list-text"],["text",""],[3,"state","disabled"]],template:function(e,s){1&e&&(t.F$t(rt),t.TgZ(0,"div",0),t._UZ(1,"div",1),t.YNc(2,lt,1,2,"mat-pseudo-checkbox",2),t.TgZ(3,"div",3,4),t.Hsn(5),t.qZA(),t.Hsn(6,1),t.qZA()),2&e&&(t.ekj("mat-list-item-content-reverse","after"==s.checkboxPosition),t.xp6(1),t.Q6J("matRippleTrigger",s._getHostElement())("matRippleDisabled",s._isRippleDisabled()),t.xp6(1),t.Q6J("ngIf",s.selectionList.multiple))},directives:[r.wG,p.O5,r.nP],encapsulation:2,changeDetection:0}),i})(),F=(()=>{class i extends ct{constructor(e,s,n,o){super(),this._element=e,this._changeDetector=n,this._focusMonitor=o,this._multiple=!0,this._contentInitialized=!1,this.selectionChange=new t.vpe,this.tabIndex=0,this.color="accent",this.compareWith=(m,H)=>m===H,this._disabled=!1,this.selectedOptions=new R.Ov(this._multiple),this._tabIndex=-1,this._onChange=m=>{},this._destroyed=new O.xQ,this._onTouched=()=>{}}get disabled(){return this._disabled}set disabled(e){this._disabled=(0,h.Ig)(e),this._markOptionsForCheck()}get multiple(){return this._multiple}set multiple(e){const s=(0,h.Ig)(e);s!==this._multiple&&(this._multiple=s,this.selectedOptions=new R.Ov(this._multiple,this.selectedOptions.selected))}ngAfterContentInit(){var e;this._contentInitialized=!0,this._keyManager=new Q.Em(this.options).withWrap().withTypeAhead().withHomeAndEnd().skipPredicate(()=>!1).withAllowedModifierKeys(["shiftKey"]),this._value&&this._setOptionsFromValues(this._value),this._keyManager.tabOut.pipe((0,M.R)(this._destroyed)).subscribe(()=>{this._allowFocusEscape()}),this.options.changes.pipe((0,it.O)(null),(0,M.R)(this._destroyed)).subscribe(()=>{this._updateTabIndex()}),this.selectedOptions.changed.pipe((0,M.R)(this._destroyed)).subscribe(s=>{if(s.added)for(let n of s.added)n.selected=!0;if(s.removed)for(let n of s.removed)n.selected=!1}),null===(e=this._focusMonitor)||void 0===e||e.monitor(this._element).pipe((0,M.R)(this._destroyed)).subscribe(s=>{var n;if("keyboard"===s||"program"===s){let o=0;for(let m=0;m<this.options.length;m++)if(null===(n=this.options.get(m))||void 0===n?void 0:n.selected){o=m;break}this._keyManager.setActiveItem(o)}})}ngOnChanges(e){const s=e.disableRipple,n=e.color;(s&&!s.firstChange||n&&!n.firstChange)&&this._markOptionsForCheck()}ngOnDestroy(){var e;null===(e=this._focusMonitor)||void 0===e||e.stopMonitoring(this._element),this._destroyed.next(),this._destroyed.complete(),this._isDestroyed=!0}focus(e){this._element.nativeElement.focus(e)}selectAll(){return this._setAllOptionsSelected(!0)}deselectAll(){return this._setAllOptionsSelected(!1)}_setFocusedOption(e){this._keyManager.updateActiveItem(e)}_removeOptionFromList(e){const s=this._getOptionIndex(e);return s>-1&&this._keyManager.activeItemIndex===s&&(s>0?this._keyManager.updateActiveItem(s-1):0===s&&this.options.length>1&&this._keyManager.updateActiveItem(Math.min(s+1,this.options.length-1))),this._keyManager.activeItem}_keydown(e){const s=e.keyCode,n=this._keyManager,o=n.activeItemIndex,m=(0,g.Vb)(e);switch(s){case g.L_:case g.K5:!m&&!n.isTyping()&&(this._toggleFocusedOption(),e.preventDefault());break;default:if(s===g.A&&this.multiple&&(0,g.Vb)(e,"ctrlKey")&&!n.isTyping()){const H=this.options.some(V=>!V.disabled&&!V.selected);this._setAllOptionsSelected(H,!0,!0),e.preventDefault()}else n.onKeydown(e)}this.multiple&&(s===g.LH||s===g.JH)&&e.shiftKey&&n.activeItemIndex!==o&&this._toggleFocusedOption()}_reportValueChange(){if(this.options&&!this._isDestroyed){const e=this._getSelectedOptionValues();this._onChange(e),this._value=e}}_emitChangeEvent(e){this.selectionChange.emit(new gt(this,e[0],e))}writeValue(e){this._value=e,this.options&&this._setOptionsFromValues(e||[])}setDisabledState(e){this.disabled=e}registerOnChange(e){this._onChange=e}registerOnTouched(e){this._onTouched=e}_setOptionsFromValues(e){this.options.forEach(s=>s._setSelected(!1)),e.forEach(s=>{const n=this.options.find(o=>!o.selected&&this.compareWith(o.value,s));n&&n._setSelected(!0)})}_getSelectedOptionValues(){return this.options.filter(e=>e.selected).map(e=>e.value)}_toggleFocusedOption(){let e=this._keyManager.activeItemIndex;if(null!=e&&this._isValidIndex(e)){let s=this.options.toArray()[e];s&&!s.disabled&&(this._multiple||!s.selected)&&(s.toggle(),this._emitChangeEvent([s]))}}_setAllOptionsSelected(e,s,n){const o=[];return this.options.forEach(m=>{(!s||!m.disabled)&&m._setSelected(e)&&o.push(m)}),o.length&&(this._reportValueChange(),n&&this._emitChangeEvent(o)),o}_isValidIndex(e){return e>=0&&e<this.options.length}_getOptionIndex(e){return this.options.toArray().indexOf(e)}_markOptionsForCheck(){this.options&&this.options.forEach(e=>e._markForCheck())}_allowFocusEscape(){this._tabIndex=-1,setTimeout(()=>{this._tabIndex=0,this._changeDetector.markForCheck()})}_updateTabIndex(){this._tabIndex=0===this.options.length?-1:0}}return i.\u0275fac=function(e){return new(e||i)(t.Y36(t.SBq),t.$8M("tabindex"),t.Y36(t.sBO),t.Y36(Q.tE))},i.\u0275cmp=t.Xpm({type:i,selectors:[["mat-selection-list"]],contentQueries:function(e,s,n){if(1&e&&t.Suo(n,j,5),2&e){let o;t.iGM(o=t.CRH())&&(s.options=o)}},hostAttrs:["role","listbox",1,"mat-selection-list","mat-list-base"],hostVars:3,hostBindings:function(e,s){1&e&&t.NdJ("keydown",function(o){return s._keydown(o)}),2&e&&t.uIk("aria-multiselectable",s.multiple)("aria-disabled",s.disabled.toString())("tabindex",s._tabIndex)},inputs:{disableRipple:"disableRipple",tabIndex:"tabIndex",color:"color",compareWith:"compareWith",disabled:"disabled",multiple:"multiple"},outputs:{selectionChange:"selectionChange"},exportAs:["matSelectionList"],features:[t._Bn([ht]),t.qOj,t.TTD],ngContentSelectors:D,decls:1,vars:0,template:function(e,s){1&e&&(t.F$t(),t.Hsn(0))},styles:['.mat-subheader{display:flex;box-sizing:border-box;padding:16px;align-items:center}.mat-list-base .mat-subheader{margin:0}.mat-list-base{padding-top:8px;display:block;-webkit-tap-highlight-color:transparent}.mat-list-base .mat-subheader{height:48px;line-height:16px}.mat-list-base .mat-subheader:first-child{margin-top:-8px}.mat-list-base .mat-list-item,.mat-list-base .mat-list-option{display:block;height:48px;-webkit-tap-highlight-color:transparent;width:100%;padding:0}.mat-list-base .mat-list-item .mat-list-item-content,.mat-list-base .mat-list-option .mat-list-item-content{display:flex;flex-direction:row;align-items:center;box-sizing:border-box;padding:0 16px;position:relative;height:inherit}.mat-list-base .mat-list-item .mat-list-item-content-reverse,.mat-list-base .mat-list-option .mat-list-item-content-reverse{display:flex;align-items:center;padding:0 16px;flex-direction:row-reverse;justify-content:space-around}.mat-list-base .mat-list-item .mat-list-item-ripple,.mat-list-base .mat-list-option .mat-list-item-ripple{top:0;left:0;right:0;bottom:0;position:absolute;pointer-events:none}.mat-list-base .mat-list-item.mat-list-item-with-avatar,.mat-list-base .mat-list-option.mat-list-item-with-avatar{height:56px}.mat-list-base .mat-list-item.mat-2-line,.mat-list-base .mat-list-option.mat-2-line{height:72px}.mat-list-base .mat-list-item.mat-3-line,.mat-list-base .mat-list-option.mat-3-line{height:88px}.mat-list-base .mat-list-item.mat-multi-line,.mat-list-base .mat-list-option.mat-multi-line{height:auto}.mat-list-base .mat-list-item.mat-multi-line .mat-list-item-content,.mat-list-base .mat-list-option.mat-multi-line .mat-list-item-content{padding-top:16px;padding-bottom:16px}.mat-list-base .mat-list-item .mat-list-text,.mat-list-base .mat-list-option .mat-list-text{display:flex;flex-direction:column;flex:auto;box-sizing:border-box;overflow:hidden;padding:0}.mat-list-base .mat-list-item .mat-list-text>*,.mat-list-base .mat-list-option .mat-list-text>*{margin:0;padding:0;font-weight:normal;font-size:inherit}.mat-list-base .mat-list-item .mat-list-text:empty,.mat-list-base .mat-list-option .mat-list-text:empty{display:none}.mat-list-base .mat-list-item.mat-list-item-with-avatar .mat-list-item-content .mat-list-text,.mat-list-base .mat-list-item.mat-list-option .mat-list-item-content .mat-list-text,.mat-list-base .mat-list-option.mat-list-item-with-avatar .mat-list-item-content .mat-list-text,.mat-list-base .mat-list-option.mat-list-option .mat-list-item-content .mat-list-text{padding-right:0;padding-left:16px}[dir=rtl] .mat-list-base .mat-list-item.mat-list-item-with-avatar .mat-list-item-content .mat-list-text,[dir=rtl] .mat-list-base .mat-list-item.mat-list-option .mat-list-item-content .mat-list-text,[dir=rtl] .mat-list-base .mat-list-option.mat-list-item-with-avatar .mat-list-item-content .mat-list-text,[dir=rtl] .mat-list-base .mat-list-option.mat-list-option .mat-list-item-content .mat-list-text{padding-right:16px;padding-left:0}.mat-list-base .mat-list-item.mat-list-item-with-avatar .mat-list-item-content-reverse .mat-list-text,.mat-list-base .mat-list-item.mat-list-option .mat-list-item-content-reverse .mat-list-text,.mat-list-base .mat-list-option.mat-list-item-with-avatar .mat-list-item-content-reverse .mat-list-text,.mat-list-base .mat-list-option.mat-list-option .mat-list-item-content-reverse .mat-list-text{padding-left:0;padding-right:16px}[dir=rtl] .mat-list-base .mat-list-item.mat-list-item-with-avatar .mat-list-item-content-reverse .mat-list-text,[dir=rtl] .mat-list-base .mat-list-item.mat-list-option .mat-list-item-content-reverse .mat-list-text,[dir=rtl] .mat-list-base .mat-list-option.mat-list-item-with-avatar .mat-list-item-content-reverse .mat-list-text,[dir=rtl] .mat-list-base .mat-list-option.mat-list-option .mat-list-item-content-reverse .mat-list-text{padding-right:0;padding-left:16px}.mat-list-base .mat-list-item.mat-list-item-with-avatar.mat-list-option .mat-list-item-content-reverse .mat-list-text,.mat-list-base .mat-list-item.mat-list-item-with-avatar.mat-list-option .mat-list-item-content .mat-list-text,.mat-list-base .mat-list-option.mat-list-item-with-avatar.mat-list-option .mat-list-item-content-reverse .mat-list-text,.mat-list-base .mat-list-option.mat-list-item-with-avatar.mat-list-option .mat-list-item-content .mat-list-text{padding-right:16px;padding-left:16px}.mat-list-base .mat-list-item .mat-list-avatar,.mat-list-base .mat-list-option .mat-list-avatar{flex-shrink:0;width:40px;height:40px;border-radius:50%;object-fit:cover}.mat-list-base .mat-list-item .mat-list-avatar~.mat-divider-inset,.mat-list-base .mat-list-option .mat-list-avatar~.mat-divider-inset{margin-left:72px;width:calc(100% - 72px)}[dir=rtl] .mat-list-base .mat-list-item .mat-list-avatar~.mat-divider-inset,[dir=rtl] .mat-list-base .mat-list-option .mat-list-avatar~.mat-divider-inset{margin-left:auto;margin-right:72px}.mat-list-base .mat-list-item .mat-list-icon,.mat-list-base .mat-list-option .mat-list-icon{flex-shrink:0;width:24px;height:24px;font-size:24px;box-sizing:content-box;border-radius:50%;padding:4px}.mat-list-base .mat-list-item .mat-list-icon~.mat-divider-inset,.mat-list-base .mat-list-option .mat-list-icon~.mat-divider-inset{margin-left:64px;width:calc(100% - 64px)}[dir=rtl] .mat-list-base .mat-list-item .mat-list-icon~.mat-divider-inset,[dir=rtl] .mat-list-base .mat-list-option .mat-list-icon~.mat-divider-inset{margin-left:auto;margin-right:64px}.mat-list-base .mat-list-item .mat-divider,.mat-list-base .mat-list-option .mat-divider{position:absolute;bottom:0;left:0;width:100%;margin:0}[dir=rtl] .mat-list-base .mat-list-item .mat-divider,[dir=rtl] .mat-list-base .mat-list-option .mat-divider{margin-left:auto;margin-right:0}.mat-list-base .mat-list-item .mat-divider.mat-divider-inset,.mat-list-base .mat-list-option .mat-divider.mat-divider-inset{position:absolute}.mat-list-base[dense]{padding-top:4px;display:block}.mat-list-base[dense] .mat-subheader{height:40px;line-height:8px}.mat-list-base[dense] .mat-subheader:first-child{margin-top:-4px}.mat-list-base[dense] .mat-list-item,.mat-list-base[dense] .mat-list-option{display:block;height:40px;-webkit-tap-highlight-color:transparent;width:100%;padding:0}.mat-list-base[dense] .mat-list-item .mat-list-item-content,.mat-list-base[dense] .mat-list-option .mat-list-item-content{display:flex;flex-direction:row;align-items:center;box-sizing:border-box;padding:0 16px;position:relative;height:inherit}.mat-list-base[dense] .mat-list-item .mat-list-item-content-reverse,.mat-list-base[dense] .mat-list-option .mat-list-item-content-reverse{display:flex;align-items:center;padding:0 16px;flex-direction:row-reverse;justify-content:space-around}.mat-list-base[dense] .mat-list-item .mat-list-item-ripple,.mat-list-base[dense] .mat-list-option .mat-list-item-ripple{top:0;left:0;right:0;bottom:0;position:absolute;pointer-events:none}.mat-list-base[dense] .mat-list-item.mat-list-item-with-avatar,.mat-list-base[dense] .mat-list-option.mat-list-item-with-avatar{height:48px}.mat-list-base[dense] .mat-list-item.mat-2-line,.mat-list-base[dense] .mat-list-option.mat-2-line{height:60px}.mat-list-base[dense] .mat-list-item.mat-3-line,.mat-list-base[dense] .mat-list-option.mat-3-line{height:76px}.mat-list-base[dense] .mat-list-item.mat-multi-line,.mat-list-base[dense] .mat-list-option.mat-multi-line{height:auto}.mat-list-base[dense] .mat-list-item.mat-multi-line .mat-list-item-content,.mat-list-base[dense] .mat-list-option.mat-multi-line .mat-list-item-content{padding-top:16px;padding-bottom:16px}.mat-list-base[dense] .mat-list-item .mat-list-text,.mat-list-base[dense] .mat-list-option .mat-list-text{display:flex;flex-direction:column;flex:auto;box-sizing:border-box;overflow:hidden;padding:0}.mat-list-base[dense] .mat-list-item .mat-list-text>*,.mat-list-base[dense] .mat-list-option .mat-list-text>*{margin:0;padding:0;font-weight:normal;font-size:inherit}.mat-list-base[dense] .mat-list-item .mat-list-text:empty,.mat-list-base[dense] .mat-list-option .mat-list-text:empty{display:none}.mat-list-base[dense] .mat-list-item.mat-list-item-with-avatar .mat-list-item-content .mat-list-text,.mat-list-base[dense] .mat-list-item.mat-list-option .mat-list-item-content .mat-list-text,.mat-list-base[dense] .mat-list-option.mat-list-item-with-avatar .mat-list-item-content .mat-list-text,.mat-list-base[dense] .mat-list-option.mat-list-option .mat-list-item-content .mat-list-text{padding-right:0;padding-left:16px}[dir=rtl] .mat-list-base[dense] .mat-list-item.mat-list-item-with-avatar .mat-list-item-content .mat-list-text,[dir=rtl] .mat-list-base[dense] .mat-list-item.mat-list-option .mat-list-item-content .mat-list-text,[dir=rtl] .mat-list-base[dense] .mat-list-option.mat-list-item-with-avatar .mat-list-item-content .mat-list-text,[dir=rtl] .mat-list-base[dense] .mat-list-option.mat-list-option .mat-list-item-content .mat-list-text{padding-right:16px;padding-left:0}.mat-list-base[dense] .mat-list-item.mat-list-item-with-avatar .mat-list-item-content-reverse .mat-list-text,.mat-list-base[dense] .mat-list-item.mat-list-option .mat-list-item-content-reverse .mat-list-text,.mat-list-base[dense] .mat-list-option.mat-list-item-with-avatar .mat-list-item-content-reverse .mat-list-text,.mat-list-base[dense] .mat-list-option.mat-list-option .mat-list-item-content-reverse .mat-list-text{padding-left:0;padding-right:16px}[dir=rtl] .mat-list-base[dense] .mat-list-item.mat-list-item-with-avatar .mat-list-item-content-reverse .mat-list-text,[dir=rtl] .mat-list-base[dense] .mat-list-item.mat-list-option .mat-list-item-content-reverse .mat-list-text,[dir=rtl] .mat-list-base[dense] .mat-list-option.mat-list-item-with-avatar .mat-list-item-content-reverse .mat-list-text,[dir=rtl] .mat-list-base[dense] .mat-list-option.mat-list-option .mat-list-item-content-reverse .mat-list-text{padding-right:0;padding-left:16px}.mat-list-base[dense] .mat-list-item.mat-list-item-with-avatar.mat-list-option .mat-list-item-content-reverse .mat-list-text,.mat-list-base[dense] .mat-list-item.mat-list-item-with-avatar.mat-list-option .mat-list-item-content .mat-list-text,.mat-list-base[dense] .mat-list-option.mat-list-item-with-avatar.mat-list-option .mat-list-item-content-reverse .mat-list-text,.mat-list-base[dense] .mat-list-option.mat-list-item-with-avatar.mat-list-option .mat-list-item-content .mat-list-text{padding-right:16px;padding-left:16px}.mat-list-base[dense] .mat-list-item .mat-list-avatar,.mat-list-base[dense] .mat-list-option .mat-list-avatar{flex-shrink:0;width:36px;height:36px;border-radius:50%;object-fit:cover}.mat-list-base[dense] .mat-list-item .mat-list-avatar~.mat-divider-inset,.mat-list-base[dense] .mat-list-option .mat-list-avatar~.mat-divider-inset{margin-left:68px;width:calc(100% - 68px)}[dir=rtl] .mat-list-base[dense] .mat-list-item .mat-list-avatar~.mat-divider-inset,[dir=rtl] .mat-list-base[dense] .mat-list-option .mat-list-avatar~.mat-divider-inset{margin-left:auto;margin-right:68px}.mat-list-base[dense] .mat-list-item .mat-list-icon,.mat-list-base[dense] .mat-list-option .mat-list-icon{flex-shrink:0;width:20px;height:20px;font-size:20px;box-sizing:content-box;border-radius:50%;padding:4px}.mat-list-base[dense] .mat-list-item .mat-list-icon~.mat-divider-inset,.mat-list-base[dense] .mat-list-option .mat-list-icon~.mat-divider-inset{margin-left:60px;width:calc(100% - 60px)}[dir=rtl] .mat-list-base[dense] .mat-list-item .mat-list-icon~.mat-divider-inset,[dir=rtl] .mat-list-base[dense] .mat-list-option .mat-list-icon~.mat-divider-inset{margin-left:auto;margin-right:60px}.mat-list-base[dense] .mat-list-item .mat-divider,.mat-list-base[dense] .mat-list-option .mat-divider{position:absolute;bottom:0;left:0;width:100%;margin:0}[dir=rtl] .mat-list-base[dense] .mat-list-item .mat-divider,[dir=rtl] .mat-list-base[dense] .mat-list-option .mat-divider{margin-left:auto;margin-right:0}.mat-list-base[dense] .mat-list-item .mat-divider.mat-divider-inset,.mat-list-base[dense] .mat-list-option .mat-divider.mat-divider-inset{position:absolute}.mat-nav-list a{text-decoration:none;color:inherit}.mat-nav-list .mat-list-item{cursor:pointer;outline:none}mat-action-list button{background:none;color:inherit;border:none;font:inherit;outline:inherit;-webkit-tap-highlight-color:transparent;text-align:left}[dir=rtl] mat-action-list button{text-align:right}mat-action-list button::-moz-focus-inner{border:0}mat-action-list .mat-list-item{cursor:pointer;outline:inherit}.mat-list-option:not(.mat-list-item-disabled){cursor:pointer;outline:none}.mat-list-item-disabled{pointer-events:none}.cdk-high-contrast-active .mat-list-item-disabled{opacity:.5}.cdk-high-contrast-active :host .mat-list-item-disabled{opacity:.5}.cdk-high-contrast-active .mat-selection-list:focus{outline-style:dotted}.cdk-high-contrast-active .mat-list-option:hover,.cdk-high-contrast-active .mat-list-option:focus,.cdk-high-contrast-active .mat-nav-list .mat-list-item:hover,.cdk-high-contrast-active .mat-nav-list .mat-list-item:focus,.cdk-high-contrast-active mat-action-list .mat-list-item:hover,.cdk-high-contrast-active mat-action-list .mat-list-item:focus{outline:dotted 1px}.cdk-high-contrast-active .mat-list-single-selected-option::after{content:"";position:absolute;top:50%;right:16px;transform:translateY(-50%);width:10px;height:0;border-bottom:solid 10px;border-radius:10px}.cdk-high-contrast-active [dir=rtl] .mat-list-single-selected-option::after{right:auto;left:16px}@media(hover: none){.mat-list-option:not(.mat-list-single-selected-option):not(.mat-list-item-disabled):hover,.mat-nav-list .mat-list-item:not(.mat-list-item-disabled):hover,.mat-action-list .mat-list-item:not(.mat-list-item-disabled):hover{background:none}}\n'],encapsulation:2,changeDetection:0}),i})(),ut=(()=>{class i{}return i.\u0275fac=function(e){return new(e||i)},i.\u0275mod=t.oAB({type:i}),i.\u0275inj=t.cJS({imports:[[r.uc,r.si,r.BQ,r.us,p.ez],r.uc,r.BQ,r.us,st]}),i})();var G=l(4885);function ft(i,a){if(1&i&&t._UZ(0,"img",16),2&i){const e=t.oxw(2);t.Q6J("src",e.cipher.img,t.LSH)}}function vt(i,a){if(1&i){const e=t.EpF();t.TgZ(0,"div",12),t._UZ(1,"a",17,18),t.TgZ(3,"button",19),t.NdJ("click",function(){return t.CHM(e),t.MAs(2).click()}),t.TgZ(4,"mat-icon",20),t._uU(5,"download"),t.qZA(),t._uU(6," Soubor ke sta\u017een\xed "),t.qZA(),t.qZA()}if(2&i){const e=t.oxw(2);t.xp6(1),t.Q6J("href",e.cipher.cipher_file,t.LSH)}}function _t(i,a){if(1&i){const e=t.EpF();t.TgZ(0,"mat-list-option",23),t.NdJ("click",function(){const o=t.CHM(e).$implicit,m=t.oxw(3);return m.hintClick(o.hint_id,m.cipher)}),t.TgZ(1,"mat-icon",24),t._uU(2," help_outline "),t.qZA(),t.TgZ(3,"div",25),t._uU(4," N\xe1pov\u011bda "),t.qZA(),t.TgZ(5,"div",25),t._uU(6),t.qZA(),t.qZA()}if(2&i){const e=a.$implicit,s=t.oxw(3);t.xp6(6),t.hij(" (",s.getHintCostText(e),") ")}}function bt(i,a){if(1&i&&(t.TgZ(0,"mat-selection-list",21),t.YNc(1,_t,7,1,"mat-list-option",22),t.qZA()),2&i){const e=t.oxw(2);t.Q6J("multiple",!1),t.xp6(1),t.Q6J("ngForOf",e.cipher.hints)}}function xt(i,a){if(1&i&&(t.TgZ(0,"div",26),t._uU(1),t.qZA()),2&i){const e=t.oxw(2);t.xp6(1),t.hij(" ",e.error," ")}}function Mt(i,a){1&i&&(t.ynx(0),t._uU(1," Odevzdat "),t.BQk())}function Ct(i,a){1&i&&t._UZ(0,"mat-spinner",27),2&i&&t.Q6J("diameter",36)}function yt(i,a){if(1&i){const e=t.EpF();t.ynx(0),t.TgZ(1,"div",1),t._uU(2),t.qZA(),t.TgZ(3,"div",2),t._uU(4),t.qZA(),t.YNc(5,ft,1,1,"img",3),t.TgZ(6,"div",4),t._UZ(7,"markdown",5),t.qZA(),t.YNc(8,vt,7,1,"div",6),t.TgZ(9,"div",7),t._uU(10," N\xe1pov\u011bdy "),t.qZA(),t.YNc(11,bt,2,2,"mat-selection-list",8),t.TgZ(12,"mat-form-field",9),t.TgZ(13,"mat-label"),t._uU(14," \u0158e\u0161en\xed "),t.qZA(),t.TgZ(15,"textarea",10),t.NdJ("ngModelChange",function(n){return t.CHM(e),t.oxw().solution=n}),t.qZA(),t.qZA(),t.YNc(16,xt,2,1,"div",11),t.TgZ(17,"div",12),t.TgZ(18,"button",13),t.NdJ("click",function(){return t.CHM(e),t.oxw().makeAttempt()}),t.YNc(19,Mt,2,0,"ng-container",14),t.YNc(20,Ct,1,1,"ng-template",null,15,t.W1O),t.qZA(),t.qZA(),t.BQk()}if(2&i){const e=t.MAs(21),s=t.oxw();t.xp6(2),t.hij(" ",s.cipher.name," "),t.xp6(2),t.hij(" ",s.cipher.score," Bod\u016f "),t.xp6(1),t.Q6J("ngIf",s.cipher.img),t.xp6(2),t.Q6J("data",s.cipher.description),t.xp6(1),t.Q6J("ngIf",s.cipher.cipher_file),t.xp6(3),t.Q6J("ngIf",s.cipher.hints),t.xp6(4),t.Q6J("ngModel",s.solution),t.xp6(1),t.Q6J("ngIf",s.error),t.xp6(2),t.Q6J("disabled",s.submitting),t.xp6(1),t.Q6J("ngIf",!s.submitting)("ngIfElse",e)}}let Lt=(()=>{class i{constructor(e,s,n,o){this.cipherService=e,this.domSanitizer=s,this.dialog=n,this.route=o,this.solution="",this.submitting=!1,this.cipherId=this.route.snapshot.params.id,this.cipherObs=this.cipherService.getCipher(this.cipherId).pipe((0,v.U)(this.trustUrl.bind(this))),this.cipherObs.subscribe(m=>{this.cipher=m})}getHintCostText(e){return e.is_used?"Otev\u0159en\xe1":e.score_cost&&e.time_cost?`-${e.score_cost} bod\u016f, -${e.time_cost} sekund`:e.score_cost?`-${e.score_cost} bod\u016f`:e.time_cost?`-${e.time_cost} sekund`:"Zdarma"}ngOnInit(){}hintClick(e,s){const n=s.hints.find(o=>o.hint_id===e);if(null!=n){if(!n.score_cost&&!n.time_cost)return void this.cipherService.openHint(e).pipe((0,_.w)(o=>this.dialog.open(P,{data:o,width:"100%"}).afterClosed())).subscribe();this.dialog.open(y.K,{data:{text:"Opravdu chcete n\xe1pov\u011bdu?"}}).afterClosed().pipe((0,I.n)(o=>!o),(0,_.w)(o=>o?this.cipherService.openHint(e):(0,f.of)(null)),(0,k.b)(o=>{null!=o&&(n.score_cost=n.time_cost=void 0)}),(0,_.w)(o=>this.dialog.open(P,{data:o,width:"100%"}).afterClosed())).subscribe()}}trustUrl(e){return Object.assign(Object.assign({},e),{img:this.domSanitizer.bypassSecurityTrustUrl(e.img)})}makeAttempt(){this.submitting=!0,this.cipherService.makeAttempt(this.cipherId,this.solution).subscribe(()=>{this.submitting=!1},e=>{this.error=e,this.submitting=!1})}}return i.\u0275fac=function(e){return new(e||i)(t.Y36(B),t.Y36(et.H7),t.Y36(d.uw),t.Y36(w.gz))},i.\u0275cmp=t.Xpm({type:i,selectors:[["app-cipher"]],decls:1,vars:1,consts:[[4,"ngIf"],[1,"mat-display-1","label"],[1,"score-display"],["class","main-image","alt","obr\xe1zek",3,"src",4,"ngIf"],[1,"cipher-container"],[1,"markdown",3,"data"],["class","button-row",4,"ngIf"],[1,"mat-display-1","hint-label"],["class","hint-list",3,"multiple",4,"ngIf"],["appearance","outline",1,"solution"],["rows","5","matInput","",3,"ngModel","ngModelChange"],["class","error",4,"ngIf"],[1,"button-row"],["mat-raised-button","","color","primary",3,"disabled","click"],[4,"ngIf","ngIfElse"],["spinner",""],["alt","obr\xe1zek",1,"main-image",3,"src"],["target","_blank",2,"display","none",3,"href"],["fileLink",""],["mat-raised-button","","color","accent",3,"click"],[2,"margin-right","2px"],[1,"hint-list",3,"multiple"],["style","cursor: pointer",3,"click",4,"ngFor","ngForOf"],[2,"cursor","pointer",3,"click"],["mat-list-icon",""],["mat-line",""],[1,"error"],[2,"margin","5px auto",3,"diameter"]],template:function(e,s){1&e&&t.YNc(0,yt,22,11,"ng-container",0),2&e&&t.Q6J("ngIf",s.cipher)},directives:[p.O5,S.lF,T.KE,T.hX,N.Nt,x.Fj,x.JJ,x.On,c.lW,u.Hw,F,p.sg,j,E,r.X2,G.$g],styles:["[_nghost-%COMP%]{display:block;padding:0 64px 64px;box-sizing:border-box}@media screen and (max-width: 560px){[_nghost-%COMP%]{padding:0 32px 64px}}.main-image[_ngcontent-%COMP%]{width:100%;padding-bottom:16px}.score-display[_ngcontent-%COMP%]{text-align:center;font-size:21px;padding-bottom:8px;margin-bottom:16px;border-bottom:2px solid white}.label[_ngcontent-%COMP%]{text-align:center;margin-bottom:8px;padding:32px 0 16px;border-bottom:2px solid white}@media screen and (max-width: 325px){.cipher-container[_ngcontent-%COMP%]{width:95%}}.button-row[_ngcontent-%COMP%]{margin-top:32px;text-align:center}.button-row[_ngcontent-%COMP%]   button[_ngcontent-%COMP%]{width:100%;height:64px;padding:0 48px;font-size:16px}.solution[_ngcontent-%COMP%]{width:100%;margin-top:32px;font-size:18px}.hint-label[_ngcontent-%COMP%]{text-align:center;margin:32px 0 8px}.hint-list[_ngcontent-%COMP%]   mat-list-item[_ngcontent-%COMP%]   div[_ngcontent-%COMP%]{display:flex}.error[_ngcontent-%COMP%]{padding:12px 0;margin-bottom:16px;text-align:center;border-radius:5px}"]}),i})();var wt=l(1397);function Ot(i,a){if(1&i&&(t.TgZ(0,"div",3),t._uU(1),t.qZA()),2&i){const e=a.ngIf;t.xp6(1),t.hij(" ",e.name," ")}}function It(i,a){1&i&&(t.TgZ(0,"mat-icon",9),t._uU(1," done_outline "),t.qZA())}function kt(i,a){1&i&&(t.TgZ(0,"mat-icon",10),t._uU(1," help_outline "),t.qZA())}const St=function(i){return["/cipher",i]};function At(i,a){if(1&i&&(t.TgZ(0,"div",5),t.O4$(),t._UZ(1,"svg",6),t.kcU(),t.TgZ(2,"div"),t.YNc(3,It,2,0,"mat-icon",7),t.YNc(4,kt,2,0,"mat-icon",8),t._UZ(5,"br"),t._uU(6),t.qZA(),t.qZA()),2&i){const e=a.$implicit;t.Q6J("routerLink",t.VKq(4,St,e.cipher_id)),t.xp6(3),t.Q6J("ngIf",e.solved),t.xp6(1),t.Q6J("ngIf",!e.solved),t.xp6(2),t.hij(" ",e.name," ")}}function Tt(i,a){if(1&i&&(t.ynx(0),t.YNc(1,At,7,6,"div",4),t.BQk()),2&i){const e=a.ngIf;t.xp6(1),t.Q6J("ngForOf",e)}}let Dt=(()=>{class i{constructor(e,s,n){this.cipherService=e,this.gameService=s,this.route=n,this.ciphersObs=this.cipherService.getVisibleCiphers(this.route.snapshot.params.id),this.gameObs=this.gameService.getGameById(this.route.snapshot.params.id)}ngOnInit(){}}return i.\u0275fac=function(e){return new(e||i)(t.Y36(B),t.Y36(wt.h),t.Y36(w.gz))},i.\u0275cmp=t.Xpm({type:i,selectors:[["app-cipher-list"]],decls:5,vars:6,consts:[["class","mat-display-1 title",4,"ngIf"],[1,"btn-container"],[4,"ngIf"],[1,"mat-display-1","title"],["class","main-menu-item noselect","matRipple","",3,"routerLink",4,"ngFor","ngForOf"],["matRipple","",1,"main-menu-item","noselect",3,"routerLink"],["viewBox","0 0 1 1"],["class","material-icons-outlined success",4,"ngIf"],["class","material-icons-outlined warn",4,"ngIf"],[1,"material-icons-outlined","success"],[1,"material-icons-outlined","warn"]],template:function(e,s){1&e&&(t.YNc(0,Ot,2,1,"div",0),t.ALo(1,"async"),t.TgZ(2,"div",1),t.YNc(3,Tt,2,1,"ng-container",2),t.ALo(4,"async"),t.qZA()),2&e&&(t.Q6J("ngIf",t.lcZ(1,2,s.gameObs)),t.xp6(3),t.Q6J("ngIf",t.lcZ(4,4,s.ciphersObs)))},directives:[p.O5,p.sg,r.wG,w.rH,u.Hw],pipes:[p.Ov],styles:["[_nghost-%COMP%]{display:flex;flex-wrap:wrap;width:100%;height:100%;box-sizing:border-box;overflow-y:auto;overflow-x:hidden;align-items:center;justify-content:center}.main-menu-item[_ngcontent-%COMP%]{border-radius:32px;display:grid;position:relative;flex:1;min-width:256px;margin:32px;border:2px solid white;cursor:pointer;overflow:hidden}.main-menu-item[_ngcontent-%COMP%] > *[_ngcontent-%COMP%]{grid-area:1/1}.main-menu-item[_ngcontent-%COMP%]   div[_ngcontent-%COMP%]{display:flex;flex-direction:column;position:absolute;width:100%;height:100%;top:0;left:0;align-items:center;justify-content:center}.main-menu-item[_ngcontent-%COMP%]   div[_ngcontent-%COMP%]   mat-icon[_ngcontent-%COMP%]{font-size:48px;width:48px;height:48px}.filler[_ngcontent-%COMP%]{flex:1;min-width:256px;margin:0 32px;height:0}@media screen and (max-width: 560px){.main-menu-item[_ngcontent-%COMP%]{min-width:calc(100% - 64px);height:calc(50% - 64px);cursor:auto}}","[_nghost-%COMP%]{flex-direction:column;align-items:flex-start;justify-content:flex-start}.main-menu-item[_ngcontent-%COMP%]{max-height:200px}.mat-display-1[_ngcontent-%COMP%]{margin-top:48px}mat-icon.done[_ngcontent-%COMP%]{color:green}.btn-container[_ngcontent-%COMP%]{display:flex;flex-direction:row;flex-wrap:wrap;width:100%}.title[_ngcontent-%COMP%]{text-align:center;width:100%}"]}),i})();var K=l(4186);const Zt=[{path:":id",component:Lt,canActivate:[K.e]},{path:"visible/:id",component:Dt,canActivate:[K.e]}];let Et=(()=>{class i{}return i.\u0275fac=function(e){return new(e||i)},i.\u0275mod=t.oAB({type:i}),i.\u0275inj=t.cJS({imports:[[p.ez,w.Bz.forChild(Zt),S.JP,x.u5,u.Ps,r.si,c.ot,T.lN,N.c,ut,d.Is,G.Cq]]}),i})()},1397:($,C,l)=>{l.d(C,{h:()=>k});var p=l(205),f=l(2340),y=l(5304),v=l(7716),_=l(1841),I=l(4471);let k=(()=>{class d{constructor(c,u){this.http=c,this.loadingService=u}getGames(){return this.loadingService.startLoading(this.http.get(f.N.backendUrl+"/api/games").pipe((0,y.K)(this.handleError)))}getGameById(c){return this.loadingService.startLoading(this.http.get(`${f.N.backendUrl}/api/game/${c}`).pipe((0,y.K)(this.handleError)))}handleError(c){return f.N.production||console.error(c),(0,p._)(c)}}return d.\u0275fac=function(c){return new(c||d)(v.LFG(_.eN),v.LFG(I.b))},d.\u0275prov=v.Yz7({token:d,factory:d.\u0275fac,providedIn:"root"}),d})()}}]);