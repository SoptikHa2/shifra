"use strict";(self.webpackChunkfrontend=self.webpackChunkfrontend||[]).push([[288],{2288:(C,d,o)=>{o.r(d),o.d(d,{MainPageModule:()=>B});var g=o(8583),l=o(1841),m=o(8002),n=o(7716),h=o(9075),f=o(6627),u=o(1095),s=o(3423),_=o(8634),p=o(9773),v=o(1397),x=o(797);const T=function(t){return["/team/create",t]};function O(t,r){if(1&t&&(n.ynx(0),n.TgZ(1,"button",5),n._uU(2," VYTVO\u0158IT TEAM "),n.qZA(),n.BQk()),2&t){const e=n.oxw().$implicit;n.xp6(1),n.Q6J("routerLink",n.VKq(1,T,e[0].cipher_game_id))}}const y=function(t){return["/cipher/visible",t]},P=function(t,r){return["/team",t,r]};function E(t,r){if(1&t&&(n.ynx(0),n.TgZ(1,"button",6),n._uU(2," POKRA\u010cOVAT "),n.qZA(),n.TgZ(3,"button",5),n._uU(4," M\u016eJ TEAM "),n.qZA(),n.BQk()),2&t){const e=n.oxw().$implicit;n.xp6(1),n.Q6J("routerLink",n.VKq(3,y,e[0].cipher_game_id))("disabled",e[0].signup),n.xp6(2),n.Q6J("routerLink",n.WLB(5,P,null==e[1]?null:e[1].team_id,e[0].cipher_game_id))}}const Z=function(t){return["/game/detail",t]};function w(t,r){if(1&t&&(n.TgZ(0,"app-game-card",4),n.YNc(1,O,3,3,"ng-container",1),n.YNc(2,E,5,8,"ng-container",1),n.TgZ(3,"button",5),n._uU(4," DETAIL "),n.qZA(),n.qZA()),2&t){const e=r.$implicit;n.Q6J("game",e[0]),n.xp6(1),n.Q6J("ngIf",!e[1]),n.xp6(1),n.Q6J("ngIf",e[1]),n.xp6(1),n.Q6J("routerLink",n.VKq(4,Z,e[0].cipher_game_id))}}function A(t,r){if(1&t&&(n.ynx(0),n.YNc(1,w,5,6,"app-game-card",3),n.BQk()),2&t){const e=r.ngIf;n.xp6(1),n.Q6J("ngForOf",e)}}let D=(()=>{class t{constructor(e,i){this.gameService=e,this.domSanitizer=i,this.cipherRunning=!1,this.gamesObs=this.gameService.getGames().pipe((0,m.U)(c=>[...c.filter(a=>null!=a[1]),...c.filter(a=>null==a[1])]),(0,m.U)(c=>c.map(a=>(a[0].image&&(a[0].image=this.domSanitizer.bypassSecurityTrustUrl(a[0].image)),a))),(0,p.zg)(c=>(0,_.H)(0,1e3).pipe((0,m.U)(()=>c.map(a=>(a[0].signup=new Date(a[0].deadline_signup)>=new Date,a))))))}ngOnInit(){}}return t.\u0275fac=function(e){return new(e||t)(n.Y36(v.h),n.Y36(h.H7))},t.\u0275cmp=n.Xpm({type:t,selectors:[["app-cipher-game-list"]],inputs:{cipherRunning:"cipherRunning"},decls:5,vars:3,consts:[[1,"cards-container"],[4,"ngIf"],[1,"card-placeholder"],[3,"game",4,"ngFor","ngForOf"],[3,"game"],["mat-button","",3,"routerLink"],["mat-button","",3,"routerLink","disabled"]],template:function(e,i){1&e&&(n.TgZ(0,"div",0),n.YNc(1,A,2,1,"ng-container",1),n.ALo(2,"async"),n._UZ(3,"div",2),n._UZ(4,"div",2),n.qZA()),2&e&&(n.xp6(1),n.Q6J("ngIf",n.lcZ(2,1,i.gamesObs)))},directives:[g.O5,g.sg,x.k,u.lW,s.rH],pipes:[g.Ov],styles:["[_nghost-%COMP%]{display:flex;flex-direction:column;min-height:100%}.cards-container[_ngcontent-%COMP%]{display:flex;flex-direction:row;flex-wrap:wrap}.card-placeholder[_ngcontent-%COMP%]{display:block;flex:1 1 0;min-width:300px;margin:16px}@media only screen and (min-width: 700px){.card-placeholder[_ngcontent-%COMP%]{max-width:450px}}"]}),t})(),L=(()=>{class t{constructor(){this.countDownEnd=new n.vpe;const e=new Date("2021-10-2"),i=Math.floor(e.getTime()/1e3);let c,a;const M=()=>{c=Math.floor(Date.now()/1e3),a=i-c,this.days=Math.floor(a/86400),this.hours=Math.floor(a/3600%24),this.minutes=Math.floor(a/60%60),this.seconds=Math.floor(a%60)};M(),setInterval(M,1e3)}ngOnInit(){}pad(e,i){let c=e+"";for(;c.length<i;)c=" "+c;return c}}return t.\u0275fac=function(e){return new(e||t)},t.\u0275cmp=n.Xpm({type:t,selectors:[["app-countdown"]],outputs:{countDownEnd:"countDownEnd"},decls:2,vars:4,consts:[[1,"mat-display-1","countdown"]],template:function(e,i){1&e&&(n.TgZ(0,"div",0),n._uU(1),n.qZA()),2&e&&(n.xp6(1),n.HOy(" ",i.pad(i.days,2),"\xa0dn\u016f ",i.pad(i.hours,2),"\xa0hodin ",i.pad(i.minutes,2),"\xa0minut ",i.pad(i.seconds,2),"\xa0vte\u0159in\n"))},styles:['.countdown[_ngcontent-%COMP%]{text-align:center;padding:48px 16px 0;font-family:Impact,"Arial Rounded MT Bold","Segoe UI Semibold","Script MT Bold",serif}']}),t})();function U(t,r){1&t&&(n.ynx(0),n.TgZ(1,"div"),n._uU(2,"V\xedtejte na str\xe1nk\xe1ch \u0161ifrova\u010dky"),n.qZA(),n.TgZ(3,"div",8),n.TgZ(4,"button",9),n._uU(5," Zapojit se"),n.qZA(),n.qZA(),n.BQk())}function I(t,r){if(1&t){const e=n.EpF();n._UZ(0,"div",10),n.ALo(1,"async"),n.TgZ(2,"app-countdown",11),n.NdJ("countDownEnd",function(){return n.CHM(e),n.oxw().countDownEnded()}),n.qZA()}if(2&t){const e=n.oxw();n.Q6J("innerHTML",n.lcZ(1,1,e.svgImage),n.oJD)}}const b=function(){return["/team/join"]};let J=(()=>{class t{constructor(e,i){this.http=e,this.sanitizer=i,this.cipherRunning=new Date("2021-10-2").getTime()-Date.now()<0;const c=new l.WM;c.set("Accept","image/svg+xml"),this.svgImage=this.http.get("/assets/backLogo.svg",{headers:c,responseType:"text"}).pipe((0,m.U)(a=>this.sanitizer.bypassSecurityTrustHtml(a)))}ngOnInit(){}countDownEnded(){this.cipherRunning=!0}}return t.\u0275fac=function(e){return new(e||t)(n.Y36(l.eN),n.Y36(h.H7))},t.\u0275cmp=n.Xpm({type:t,selectors:[["app-main-page"]],decls:12,vars:5,consts:[[1,"games-header"],[4,"ngIf","ngIfElse"],["countdown",""],[1,"down"],[1,"how-to-join"],["mat-raised-button","","color","primary",3,"routerLink"],[1,"mat-display-1"],[3,"cipherRunning"],[1,"join-btn"],["mat-raised-button","","color","primary","routerLink","/lobby"],[1,"logo",3,"innerHTML"],[3,"countDownEnd"]],template:function(e,i){if(1&e&&(n.TgZ(0,"div",0),n.YNc(1,U,6,0,"ng-container",1),n.YNc(2,I,3,3,"ng-template",null,2,n.W1O),n.TgZ(4,"mat-icon",3),n._uU(5," keyboard_arrow_down"),n.qZA(),n.qZA(),n.TgZ(6,"div",4),n.TgZ(7,"button",5),n._uU(8," P\u0159idat se k teamu "),n.qZA(),n.TgZ(9,"div",6),n._uU(10," \u0160ifrova\u010dky: "),n.qZA(),n.qZA(),n._UZ(11,"app-cipher-game-list",7)),2&e){const c=n.MAs(3);n.xp6(1),n.Q6J("ngIf",i.cipherRunning)("ngIfElse",c),n.xp6(6),n.Q6J("routerLink",n.DdM(4,b)),n.xp6(4),n.Q6J("cipherRunning",i.cipherRunning)}},directives:[g.O5,f.Hw,u.lW,s.rH,D,L],pipes:[g.Ov],styles:["[_nghost-%COMP%]{display:block;position:relative;top:-64px}.logo[_ngcontent-%COMP%]  *{fill:#fafafa!important}.logo[_ngcontent-%COMP%]  svg{width:100%;height:100%}@keyframes upDownMove{0%{bottom:32px}20%{bottom:24px}to{bottom:32px}}.games-header[_ngcontent-%COMP%]{display:flex;position:relative;flex-direction:column;min-height:100vh;justify-content:center;align-items:center;padding:0 16px}.games-header[_ngcontent-%COMP%]   div[_ngcontent-%COMP%]{text-align:center}.games-header[_ngcontent-%COMP%]   mat-icon[_ngcontent-%COMP%]{position:absolute;left:50%;transform:translate(-50%);width:36px;height:36px;font-size:36px;animation:upDownMove .7s ease-out infinite}.join-btn[_ngcontent-%COMP%]{margin-top:32px}.how-to-join[_ngcontent-%COMP%]   div[_ngcontent-%COMP%]{margin:32px 0 8px}.how-to-join[_ngcontent-%COMP%]{display:flex;align-items:center;flex-direction:column}.how-to-join[_ngcontent-%COMP%]   button[_ngcontent-%COMP%]{height:48px;margin-bottom:32px}"]}),t})();var Q=o(713);const R=[{path:"",component:J}];let B=(()=>{class t{}return t.\u0275fac=function(e){return new(e||t)},t.\u0275mod=n.oAB({type:t}),t.\u0275inj=n.cJS({imports:[[g.ez,f.Ps,s.Bz.forChild(R),Q.L,u.ot]]}),t})()},1397:(C,d,o)=>{o.d(d,{h:()=>u});var g=o(205),l=o(2340),m=o(5304),n=o(7716),h=o(1841),f=o(4471);let u=(()=>{class s{constructor(p,v){this.http=p,this.loadingService=v}getGames(){return this.loadingService.startLoading(this.http.get(l.N.backendUrl+"/api/games").pipe((0,m.K)(this.handleError)))}getGameById(p){return this.loadingService.startLoading(this.http.get(`${l.N.backendUrl}/api/game/${p}`).pipe((0,m.K)(this.handleError)))}handleError(p){return l.N.production||console.error(p),(0,g._)(p)}}return s.\u0275fac=function(p){return new(p||s)(n.LFG(h.eN),n.LFG(f.b))},s.\u0275prov=n.Yz7({token:s,factory:s.\u0275fac,providedIn:"root"}),s})()}}]);